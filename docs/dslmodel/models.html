<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 14.7.0"/>
    <title>dslmodel.models API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f8f8f8;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../dslmodel.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;dslmodel</a>


            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



            <h2>API Documentation</h2>
                <ul class="memberlist">
            <li>
                    <a class="class" href="#DSLModel">DSLModel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#DSLModel.version">version</a>
                        </li>
                        <li>
                                <a class="class" href="#DSLModel.Config">DSLModel.Config</a>
                                        <ul class="memberlist">
                                    <li>
                                            <a class="variable" href="#DSLModel.Config.arbitrary_types_allowed">arbitrary_types_allowed</a>
                                    </li>
                                    <li>
                                            <a class="variable" href="#DSLModel.Config.validate_assignment">validate_assignment</a>
                                    </li>
                                    <li>
                                            <a class="variable" href="#DSLModel.Config.populate_by_name">populate_by_name</a>
                                    </li>
                            </ul>

                        </li>
                        <li>
                                <a class="function" href="#DSLModel.generate_filename">generate_filename</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.save">save</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.asave">asave</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.upgrade">upgrade</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.to_yaml">to_yaml</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.from_yaml">from_yaml</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.ato_yaml">ato_yaml</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.afrom_yaml">afrom_yaml</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.to_json">to_json</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.from_json">from_json</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.io_context">io_context</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.aio_context">aio_context</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.ato_json">ato_json</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.afrom_json">afrom_json</a>
                        </li>
                        <li>
                                <a class="function" href="#DSLModel.from_prompt">from_prompt</a>
                        </li>
                        <li>
                                <a class="variable" href="#DSLModel.model_config">model_config</a>
                        </li>
                        <li>
                                <a class="variable" href="#DSLModel.model_fields">model_fields</a>
                        </li>
                        <li>
                                <a class="variable" href="#DSLModel.model_computed_fields">model_computed_fields</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#DSLTask">DSLTask</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#DSLTask.prompt">prompt</a>
                        </li>
                        <li>
                                <a class="variable" href="#DSLTask.dsl_model">dsl_model</a>
                        </li>
                        <li>
                                <a class="variable" href="#DSLTask.model_config">model_config</a>
                        </li>
                        <li>
                                <a class="variable" href="#DSLTask.model_fields">model_fields</a>
                        </li>
                        <li>
                                <a class="variable" href="#DSLTask.model_computed_fields">model_computed_fields</a>
                        </li>
                </ul>

            </li>
    </ul>



        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../dslmodel.html">dslmodel</a><wbr>.models    </h1>

                
                        <input id="mod-models-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-models-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos">  1</span></a><span class="kn">import</span> <span class="nn">os</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos">  2</span></a><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span><span class="p">,</span> <span class="n">asynccontextmanager</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos">  3</span></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">TypeVar</span><span class="p">,</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Type</span><span class="p">,</span> <span class="n">Dict</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos">  4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos">  5</span></a><span class="kn">import</span> <span class="nn">aiofiles</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos">  6</span></a><span class="kn">import</span> <span class="nn">yaml</span>
</span><span id="L-7"><a href="#L-7"><span class="linenos">  7</span></a><span class="kn">import</span> <span class="nn">json</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos">  8</span></a><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">ValidationError</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos">  9</span></a>
</span><span id="L-10"><a href="#L-10"><span class="linenos"> 10</span></a><span class="kn">from</span> <span class="nn">dslmodel.dspy_modules.file_name_module</span> <span class="kn">import</span> <span class="n">file_name_call</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos"> 11</span></a><span class="kn">from</span> <span class="nn">dslmodel.dspy_modules.gen_pydantic_instance</span> <span class="kn">import</span> <span class="n">gen_instance</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos"> 12</span></a>
</span><span id="L-13"><a href="#L-13"><span class="linenos"> 13</span></a><span class="n">T</span> <span class="o">=</span> <span class="n">TypeVar</span><span class="p">(</span><span class="s2">&quot;T&quot;</span><span class="p">,</span> <span class="n">bound</span><span class="o">=</span><span class="s2">&quot;DSLModel&quot;</span><span class="p">)</span>
</span><span id="L-14"><a href="#L-14"><span class="linenos"> 14</span></a>
</span><span id="L-15"><a href="#L-15"><span class="linenos"> 15</span></a>
</span><span id="L-16"><a href="#L-16"><span class="linenos"> 16</span></a><span class="k">class</span> <span class="nc">DSLModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
</span><span id="L-17"><a href="#L-17"><span class="linenos"> 17</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-18"><a href="#L-18"><span class="linenos"> 18</span></a><span class="sd">    A base model class that provides serialization and deserialization capabilities</span>
</span><span id="L-19"><a href="#L-19"><span class="linenos"> 19</span></a><span class="sd">    between Pydantic models and YAML and JSON formats. It facilitates saving model instances</span>
</span><span id="L-20"><a href="#L-20"><span class="linenos"> 20</span></a><span class="sd">    to files and loading data from files into model objects.</span>
</span><span id="L-21"><a href="#L-21"><span class="linenos"> 21</span></a><span class="sd">    Includes support for asynchronous file operations, versioning, enhanced context managers,</span>
</span><span id="L-22"><a href="#L-22"><span class="linenos"> 22</span></a><span class="sd">    automatic documentation generation, and enhanced error handling.</span>
</span><span id="L-23"><a href="#L-23"><span class="linenos"> 23</span></a>
</span><span id="L-24"><a href="#L-24"><span class="linenos"> 24</span></a><span class="sd">    Attributes:</span>
</span><span id="L-25"><a href="#L-25"><span class="linenos"> 25</span></a><span class="sd">        version (str): Version number of the model instance.</span>
</span><span id="L-26"><a href="#L-26"><span class="linenos"> 26</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-27"><a href="#L-27"><span class="linenos"> 27</span></a>
</span><span id="L-28"><a href="#L-28"><span class="linenos"> 28</span></a>    <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;1.0.0&quot;</span>
</span><span id="L-29"><a href="#L-29"><span class="linenos"> 29</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Version number of the model instance.&quot;&quot;&quot;</span>
</span><span id="L-30"><a href="#L-30"><span class="linenos"> 30</span></a>
</span><span id="L-31"><a href="#L-31"><span class="linenos"> 31</span></a>    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
</span><span id="L-32"><a href="#L-32"><span class="linenos"> 32</span></a>        <span class="n">arbitrary_types_allowed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-33"><a href="#L-33"><span class="linenos"> 33</span></a>        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-34"><a href="#L-34"><span class="linenos"> 34</span></a>        <span class="n">populate_by_name</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="L-35"><a href="#L-35"><span class="linenos"> 35</span></a>
</span><span id="L-36"><a href="#L-36"><span class="linenos"> 36</span></a>    <span class="k">def</span> <span class="nf">generate_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extension</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-37"><a href="#L-37"><span class="linenos"> 37</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates a safe filename based on the model&#39;s content.&quot;&quot;&quot;</span>
</span><span id="L-38"><a href="#L-38"><span class="linenos"> 38</span></a>        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">()</span>
</span><span id="L-39"><a href="#L-39"><span class="linenos"> 39</span></a>
</span><span id="L-40"><a href="#L-40"><span class="linenos"> 40</span></a>        <span class="c1"># Generate the filename</span>
</span><span id="L-41"><a href="#L-41"><span class="linenos"> 41</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="n">file_name_call</span><span class="p">(</span><span class="n">file_content</span><span class="o">=</span><span class="n">content</span><span class="p">,</span> <span class="n">extension</span><span class="o">=</span><span class="n">extension</span><span class="p">)</span>
</span><span id="L-42"><a href="#L-42"><span class="linenos"> 42</span></a>        <span class="k">return</span> <span class="n">filename</span>
</span><span id="L-43"><a href="#L-43"><span class="linenos"> 43</span></a>
</span><span id="L-44"><a href="#L-44"><span class="linenos"> 44</span></a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-45"><a href="#L-45"><span class="linenos"> 45</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-46"><a href="#L-46"><span class="linenos"> 46</span></a><span class="sd">        Saves the model to a file in the specified format. Automatically generates a filename if not provided.</span>
</span><span id="L-47"><a href="#L-47"><span class="linenos"> 47</span></a>
</span><span id="L-48"><a href="#L-48"><span class="linenos"> 48</span></a><span class="sd">        :param file_path: The path to the file. If None, generates a filename.</span>
</span><span id="L-49"><a href="#L-49"><span class="linenos"> 49</span></a><span class="sd">        :param file_format: The format to save the file in (&#39;yaml&#39; or &#39;json&#39;).</span>
</span><span id="L-50"><a href="#L-50"><span class="linenos"> 50</span></a><span class="sd">        :param add_timestamp: Whether to append a timestamp to the filename.</span>
</span><span id="L-51"><a href="#L-51"><span class="linenos"> 51</span></a>
</span><span id="L-52"><a href="#L-52"><span class="linenos"> 52</span></a><span class="sd">        :return: The path to the saved file.</span>
</span><span id="L-53"><a href="#L-53"><span class="linenos"> 53</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-54"><a href="#L-54"><span class="linenos"> 54</span></a>        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-55"><a href="#L-55"><span class="linenos"> 55</span></a>            <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_filename</span><span class="p">(</span><span class="n">extension</span><span class="o">=</span><span class="n">file_format</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="o">=</span><span class="n">add_timestamp</span><span class="p">)</span>
</span><span id="L-56"><a href="#L-56"><span class="linenos"> 56</span></a>
</span><span id="L-57"><a href="#L-57"><span class="linenos"> 57</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="L-58"><a href="#L-58"><span class="linenos"> 58</span></a>        <span class="k">if</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="L-59"><a href="#L-59"><span class="linenos"> 59</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="L-60"><a href="#L-60"><span class="linenos"> 60</span></a>        <span class="k">elif</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
</span><span id="L-61"><a href="#L-61"><span class="linenos"> 61</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="L-62"><a href="#L-62"><span class="linenos"> 62</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-63"><a href="#L-63"><span class="linenos"> 63</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported file format. Use &#39;yaml&#39; or &#39;json&#39;.&quot;</span><span class="p">)</span>
</span><span id="L-64"><a href="#L-64"><span class="linenos"> 64</span></a>
</span><span id="L-65"><a href="#L-65"><span class="linenos"> 65</span></a>        <span class="k">return</span> <span class="n">file_path</span>
</span><span id="L-66"><a href="#L-66"><span class="linenos"> 66</span></a>
</span><span id="L-67"><a href="#L-67"><span class="linenos"> 67</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">asave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="L-68"><a href="#L-68"><span class="linenos"> 68</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-69"><a href="#L-69"><span class="linenos"> 69</span></a><span class="sd">        Asynchronously saves the model to a file in the specified format. Automatically generates a filename if not provided.</span>
</span><span id="L-70"><a href="#L-70"><span class="linenos"> 70</span></a>
</span><span id="L-71"><a href="#L-71"><span class="linenos"> 71</span></a><span class="sd">        :param file_path: The path to the file. If None, generates a filename.</span>
</span><span id="L-72"><a href="#L-72"><span class="linenos"> 72</span></a><span class="sd">        :param file_format: The format to save the file in (&#39;yaml&#39; or &#39;json&#39;).</span>
</span><span id="L-73"><a href="#L-73"><span class="linenos"> 73</span></a><span class="sd">        :param add_timestamp: Whether to append a timestamp to the filename.</span>
</span><span id="L-74"><a href="#L-74"><span class="linenos"> 74</span></a>
</span><span id="L-75"><a href="#L-75"><span class="linenos"> 75</span></a><span class="sd">        :return: The path to the saved file.</span>
</span><span id="L-76"><a href="#L-76"><span class="linenos"> 76</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-77"><a href="#L-77"><span class="linenos"> 77</span></a>        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-78"><a href="#L-78"><span class="linenos"> 78</span></a>            <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_filename</span><span class="p">(</span><span class="n">extension</span><span class="o">=</span><span class="n">file_format</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="o">=</span><span class="n">add_timestamp</span><span class="p">)</span>
</span><span id="L-79"><a href="#L-79"><span class="linenos"> 79</span></a>
</span><span id="L-80"><a href="#L-80"><span class="linenos"> 80</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="L-81"><a href="#L-81"><span class="linenos"> 81</span></a>        <span class="k">if</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="L-82"><a href="#L-82"><span class="linenos"> 82</span></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">ato_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="L-83"><a href="#L-83"><span class="linenos"> 83</span></a>        <span class="k">elif</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
</span><span id="L-84"><a href="#L-84"><span class="linenos"> 84</span></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">ato_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="L-85"><a href="#L-85"><span class="linenos"> 85</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-86"><a href="#L-86"><span class="linenos"> 86</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported file format. Use &#39;yaml&#39; or &#39;json&#39;.&quot;</span><span class="p">)</span>
</span><span id="L-87"><a href="#L-87"><span class="linenos"> 87</span></a>
</span><span id="L-88"><a href="#L-88"><span class="linenos"> 88</span></a>        <span class="k">return</span> <span class="n">file_path</span>
</span><span id="L-89"><a href="#L-89"><span class="linenos"> 89</span></a>
</span><span id="L-90"><a href="#L-90"><span class="linenos"> 90</span></a>    <span class="k">def</span> <span class="nf">upgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-91"><a href="#L-91"><span class="linenos"> 91</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-92"><a href="#L-92"><span class="linenos"> 92</span></a><span class="sd">        Placeholder method for upgrading the model instance to a new version.</span>
</span><span id="L-93"><a href="#L-93"><span class="linenos"> 93</span></a><span class="sd">        Implement version-specific upgrade logic here.</span>
</span><span id="L-94"><a href="#L-94"><span class="linenos"> 94</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-95"><a href="#L-95"><span class="linenos"> 95</span></a>        <span class="k">pass</span>
</span><span id="L-96"><a href="#L-96"><span class="linenos"> 96</span></a>
</span><span id="L-97"><a href="#L-97"><span class="linenos"> 97</span></a>    <span class="k">def</span> <span class="nf">to_yaml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-98"><a href="#L-98"><span class="linenos"> 98</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-99"><a href="#L-99"><span class="linenos"> 99</span></a><span class="sd">        Serializes the Pydantic model instance into a YAML string and optionally writes it to a file.</span>
</span><span id="L-100"><a href="#L-100"><span class="linenos">100</span></a>
</span><span id="L-101"><a href="#L-101"><span class="linenos">101</span></a><span class="sd">        :param file_path: The file path to write the YAML content to.</span>
</span><span id="L-102"><a href="#L-102"><span class="linenos">102</span></a><span class="sd">                          If None, only the YAML string is returned.</span>
</span><span id="L-103"><a href="#L-103"><span class="linenos">103</span></a><span class="sd">        :return: The YAML representation of the model.</span>
</span><span id="L-104"><a href="#L-104"><span class="linenos">104</span></a><span class="sd">        :raises IOError: If serialization to YAML fails.</span>
</span><span id="L-105"><a href="#L-105"><span class="linenos">105</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-106"><a href="#L-106"><span class="linenos">106</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-107"><a href="#L-107"><span class="linenos">107</span></a>            <span class="n">yaml_content</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
</span><span id="L-108"><a href="#L-108"><span class="linenos">108</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
</span><span id="L-109"><a href="#L-109"><span class="linenos">109</span></a>                <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-110"><a href="#L-110"><span class="linenos">110</span></a>                <span class="n">width</span><span class="o">=</span><span class="mi">1000</span>
</span><span id="L-111"><a href="#L-111"><span class="linenos">111</span></a>            <span class="p">)</span>
</span><span id="L-112"><a href="#L-112"><span class="linenos">112</span></a>            <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="L-113"><a href="#L-113"><span class="linenos">113</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="L-114"><a href="#L-114"><span class="linenos">114</span></a>                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
</span><span id="L-115"><a href="#L-115"><span class="linenos">115</span></a>                    <span class="n">yaml_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">yaml_content</span><span class="p">)</span>
</span><span id="L-116"><a href="#L-116"><span class="linenos">116</span></a>            <span class="k">return</span> <span class="n">yaml_content</span>
</span><span id="L-117"><a href="#L-117"><span class="linenos">117</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-118"><a href="#L-118"><span class="linenos">118</span></a>            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to serialize model to YAML: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-119"><a href="#L-119"><span class="linenos">119</span></a>
</span><span id="L-120"><a href="#L-120"><span class="linenos">120</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-121"><a href="#L-121"><span class="linenos">121</span></a>    <span class="k">def</span> <span class="nf">from_yaml</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="L-122"><a href="#L-122"><span class="linenos">122</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-123"><a href="#L-123"><span class="linenos">123</span></a><span class="sd">        Reads YAML content from a file and creates an instance of the Pydantic model.</span>
</span><span id="L-124"><a href="#L-124"><span class="linenos">124</span></a>
</span><span id="L-125"><a href="#L-125"><span class="linenos">125</span></a><span class="sd">        :param file_path: The path to the YAML file.</span>
</span><span id="L-126"><a href="#L-126"><span class="linenos">126</span></a><span class="sd">        :return: An instance of the Pydantic model populated with data from the YAML file.</span>
</span><span id="L-127"><a href="#L-127"><span class="linenos">127</span></a><span class="sd">        :raises FileNotFoundError: If the YAML file is not found.</span>
</span><span id="L-128"><a href="#L-128"><span class="linenos">128</span></a><span class="sd">        :raises ValueError: If there is a parsing or validation error.</span>
</span><span id="L-129"><a href="#L-129"><span class="linenos">129</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-130"><a href="#L-130"><span class="linenos">130</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-131"><a href="#L-131"><span class="linenos">131</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
</span><span id="L-132"><a href="#L-132"><span class="linenos">132</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">yaml_file</span><span class="p">)</span>
</span><span id="L-133"><a href="#L-133"><span class="linenos">133</span></a>            <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="L-134"><a href="#L-134"><span class="linenos">134</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="L-135"><a href="#L-135"><span class="linenos">135</span></a>            <span class="k">return</span> <span class="n">instance</span>
</span><span id="L-136"><a href="#L-136"><span class="linenos">136</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="L-137"><a href="#L-137"><span class="linenos">137</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;YAML file not found at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-138"><a href="#L-138"><span class="linenos">138</span></a>        <span class="k">except</span> <span class="n">yaml</span><span class="o">.</span><span class="n">YAMLError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-139"><a href="#L-139"><span class="linenos">139</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing YAML file at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-140"><a href="#L-140"><span class="linenos">140</span></a>        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
</span><span id="L-141"><a href="#L-141"><span class="linenos">141</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error while creating </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance: </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-142"><a href="#L-142"><span class="linenos">142</span></a>
</span><span id="L-143"><a href="#L-143"><span class="linenos">143</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">ato_yaml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-144"><a href="#L-144"><span class="linenos">144</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-145"><a href="#L-145"><span class="linenos">145</span></a><span class="sd">        Asynchronously serializes the Pydantic model to YAML and writes to a file.</span>
</span><span id="L-146"><a href="#L-146"><span class="linenos">146</span></a>
</span><span id="L-147"><a href="#L-147"><span class="linenos">147</span></a><span class="sd">        :param file_path: The file path to write the YAML content.</span>
</span><span id="L-148"><a href="#L-148"><span class="linenos">148</span></a><span class="sd">                          If None, returns YAML string.</span>
</span><span id="L-149"><a href="#L-149"><span class="linenos">149</span></a><span class="sd">        :return: The YAML content as a string.</span>
</span><span id="L-150"><a href="#L-150"><span class="linenos">150</span></a><span class="sd">        :raises IOError: If serialization to YAML asynchronously fails.</span>
</span><span id="L-151"><a href="#L-151"><span class="linenos">151</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-152"><a href="#L-152"><span class="linenos">152</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-153"><a href="#L-153"><span class="linenos">153</span></a>            <span class="n">yaml_content</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
</span><span id="L-154"><a href="#L-154"><span class="linenos">154</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
</span><span id="L-155"><a href="#L-155"><span class="linenos">155</span></a>                <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="L-156"><a href="#L-156"><span class="linenos">156</span></a>                <span class="n">width</span><span class="o">=</span><span class="mi">1000</span>
</span><span id="L-157"><a href="#L-157"><span class="linenos">157</span></a>            <span class="p">)</span>
</span><span id="L-158"><a href="#L-158"><span class="linenos">158</span></a>            <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="L-159"><a href="#L-159"><span class="linenos">159</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="L-160"><a href="#L-160"><span class="linenos">160</span></a>                <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
</span><span id="L-161"><a href="#L-161"><span class="linenos">161</span></a>                    <span class="k">await</span> <span class="n">yaml_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">yaml_content</span><span class="p">)</span>
</span><span id="L-162"><a href="#L-162"><span class="linenos">162</span></a>            <span class="k">return</span> <span class="n">yaml_content</span>
</span><span id="L-163"><a href="#L-163"><span class="linenos">163</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-164"><a href="#L-164"><span class="linenos">164</span></a>            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to serialize model to YAML asynchronously: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-165"><a href="#L-165"><span class="linenos">165</span></a>
</span><span id="L-166"><a href="#L-166"><span class="linenos">166</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-167"><a href="#L-167"><span class="linenos">167</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">afrom_yaml</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="L-168"><a href="#L-168"><span class="linenos">168</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-169"><a href="#L-169"><span class="linenos">169</span></a><span class="sd">        Asynchronously reads YAML content from a file and constructs an instance of the Pydantic model.</span>
</span><span id="L-170"><a href="#L-170"><span class="linenos">170</span></a>
</span><span id="L-171"><a href="#L-171"><span class="linenos">171</span></a><span class="sd">        :param file_path: The file path from which to read the YAML content.</span>
</span><span id="L-172"><a href="#L-172"><span class="linenos">172</span></a><span class="sd">        :return: An instance of the Pydantic model.</span>
</span><span id="L-173"><a href="#L-173"><span class="linenos">173</span></a><span class="sd">        :raises FileNotFoundError: If the YAML file is not found.</span>
</span><span id="L-174"><a href="#L-174"><span class="linenos">174</span></a><span class="sd">        :raises ValueError: If there is a parsing or validation error.</span>
</span><span id="L-175"><a href="#L-175"><span class="linenos">175</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-176"><a href="#L-176"><span class="linenos">176</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-177"><a href="#L-177"><span class="linenos">177</span></a>            <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
</span><span id="L-178"><a href="#L-178"><span class="linenos">178</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="k">await</span> <span class="n">yaml_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span><span id="L-179"><a href="#L-179"><span class="linenos">179</span></a>            <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="L-180"><a href="#L-180"><span class="linenos">180</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="L-181"><a href="#L-181"><span class="linenos">181</span></a>            <span class="k">return</span> <span class="n">instance</span>
</span><span id="L-182"><a href="#L-182"><span class="linenos">182</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="L-183"><a href="#L-183"><span class="linenos">183</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;YAML file not found at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-184"><a href="#L-184"><span class="linenos">184</span></a>        <span class="k">except</span> <span class="n">yaml</span><span class="o">.</span><span class="n">YAMLError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-185"><a href="#L-185"><span class="linenos">185</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing YAML file at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-186"><a href="#L-186"><span class="linenos">186</span></a>        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
</span><span id="L-187"><a href="#L-187"><span class="linenos">187</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error while creating </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance: </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-188"><a href="#L-188"><span class="linenos">188</span></a>
</span><span id="L-189"><a href="#L-189"><span class="linenos">189</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-190"><a href="#L-190"><span class="linenos">190</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-191"><a href="#L-191"><span class="linenos">191</span></a><span class="sd">        Serializes the Pydantic model instance into a JSON string and optionally writes it to a file.</span>
</span><span id="L-192"><a href="#L-192"><span class="linenos">192</span></a>
</span><span id="L-193"><a href="#L-193"><span class="linenos">193</span></a><span class="sd">        :param file_path: The file path to write the JSON content to.</span>
</span><span id="L-194"><a href="#L-194"><span class="linenos">194</span></a><span class="sd">                          If None, only the JSON string is returned.</span>
</span><span id="L-195"><a href="#L-195"><span class="linenos">195</span></a><span class="sd">        :param kwargs: Additional keyword arguments to pass to json.dumps.</span>
</span><span id="L-196"><a href="#L-196"><span class="linenos">196</span></a><span class="sd">        :return: The JSON representation of the model.</span>
</span><span id="L-197"><a href="#L-197"><span class="linenos">197</span></a><span class="sd">        :raises IOError: If serialization to JSON fails.</span>
</span><span id="L-198"><a href="#L-198"><span class="linenos">198</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-199"><a href="#L-199"><span class="linenos">199</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-200"><a href="#L-200"><span class="linenos">200</span></a>            <span class="n">json_content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-201"><a href="#L-201"><span class="linenos">201</span></a>            <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="L-202"><a href="#L-202"><span class="linenos">202</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="L-203"><a href="#L-203"><span class="linenos">203</span></a>                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="L-204"><a href="#L-204"><span class="linenos">204</span></a>                    <span class="n">json_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json_content</span><span class="p">)</span>
</span><span id="L-205"><a href="#L-205"><span class="linenos">205</span></a>            <span class="k">return</span> <span class="n">json_content</span>
</span><span id="L-206"><a href="#L-206"><span class="linenos">206</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-207"><a href="#L-207"><span class="linenos">207</span></a>            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to serialize model to JSON: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-208"><a href="#L-208"><span class="linenos">208</span></a>
</span><span id="L-209"><a href="#L-209"><span class="linenos">209</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-210"><a href="#L-210"><span class="linenos">210</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="L-211"><a href="#L-211"><span class="linenos">211</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-212"><a href="#L-212"><span class="linenos">212</span></a><span class="sd">        Reads JSON content from a file and creates an instance of the Pydantic model.</span>
</span><span id="L-213"><a href="#L-213"><span class="linenos">213</span></a>
</span><span id="L-214"><a href="#L-214"><span class="linenos">214</span></a><span class="sd">        :param file_path: The path to the JSON file.</span>
</span><span id="L-215"><a href="#L-215"><span class="linenos">215</span></a><span class="sd">        :return: An instance of the Pydantic model populated with data from the JSON file.</span>
</span><span id="L-216"><a href="#L-216"><span class="linenos">216</span></a><span class="sd">        :raises FileNotFoundError: If the JSON file is not found.</span>
</span><span id="L-217"><a href="#L-217"><span class="linenos">217</span></a><span class="sd">        :raises ValueError: If there is a parsing or validation error.</span>
</span><span id="L-218"><a href="#L-218"><span class="linenos">218</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-219"><a href="#L-219"><span class="linenos">219</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-220"><a href="#L-220"><span class="linenos">220</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="L-221"><a href="#L-221"><span class="linenos">221</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>
</span><span id="L-222"><a href="#L-222"><span class="linenos">222</span></a>            <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="L-223"><a href="#L-223"><span class="linenos">223</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="L-224"><a href="#L-224"><span class="linenos">224</span></a>            <span class="k">return</span> <span class="n">instance</span>
</span><span id="L-225"><a href="#L-225"><span class="linenos">225</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="L-226"><a href="#L-226"><span class="linenos">226</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JSON file not found at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-227"><a href="#L-227"><span class="linenos">227</span></a>        <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-228"><a href="#L-228"><span class="linenos">228</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing JSON file at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-229"><a href="#L-229"><span class="linenos">229</span></a>        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
</span><span id="L-230"><a href="#L-230"><span class="linenos">230</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error while creating </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance: </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-231"><a href="#L-231"><span class="linenos">231</span></a>
</span><span id="L-232"><a href="#L-232"><span class="linenos">232</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-233"><a href="#L-233"><span class="linenos">233</span></a>    <span class="nd">@contextmanager</span>
</span><span id="L-234"><a href="#L-234"><span class="linenos">234</span></a>    <span class="k">def</span> <span class="nf">io_context</span><span class="p">(</span>
</span><span id="L-235"><a href="#L-235"><span class="linenos">235</span></a>        <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span>
</span><span id="L-236"><a href="#L-236"><span class="linenos">236</span></a>        <span class="n">model_defaults</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-237"><a href="#L-237"><span class="linenos">237</span></a>        <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-238"><a href="#L-238"><span class="linenos">238</span></a>        <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span>
</span><span id="L-239"><a href="#L-239"><span class="linenos">239</span></a>    <span class="p">):</span>
</span><span id="L-240"><a href="#L-240"><span class="linenos">240</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-241"><a href="#L-241"><span class="linenos">241</span></a><span class="sd">        Context manager for convenient loading and saving of Pydantic models to/from YAML or JSON files.</span>
</span><span id="L-242"><a href="#L-242"><span class="linenos">242</span></a>
</span><span id="L-243"><a href="#L-243"><span class="linenos">243</span></a><span class="sd">        :param model_defaults: Default values to use if the file doesn&#39;t exist.</span>
</span><span id="L-244"><a href="#L-244"><span class="linenos">244</span></a><span class="sd">        :param file_path: Path to the file. If None, uses the class name as the filename.</span>
</span><span id="L-245"><a href="#L-245"><span class="linenos">245</span></a><span class="sd">        :param file_format: The format of the file (&#39;yaml&#39; or &#39;json&#39;).</span>
</span><span id="L-246"><a href="#L-246"><span class="linenos">246</span></a><span class="sd">        :raises ValueError: If an unsupported file format is provided.</span>
</span><span id="L-247"><a href="#L-247"><span class="linenos">247</span></a><span class="sd">        :raises RuntimeError: If an error occurs during the context manager operation.</span>
</span><span id="L-248"><a href="#L-248"><span class="linenos">248</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-249"><a href="#L-249"><span class="linenos">249</span></a>        <span class="k">if</span> <span class="n">model_defaults</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-250"><a href="#L-250"><span class="linenos">250</span></a>            <span class="n">model_defaults</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-251"><a href="#L-251"><span class="linenos">251</span></a>
</span><span id="L-252"><a href="#L-252"><span class="linenos">252</span></a>        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-253"><a href="#L-253"><span class="linenos">253</span></a>            <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-254"><a href="#L-254"><span class="linenos">254</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-255"><a href="#L-255"><span class="linenos">255</span></a>            <span class="n">filename</span> <span class="o">=</span> <span class="n">file_path</span>
</span><span id="L-256"><a href="#L-256"><span class="linenos">256</span></a>
</span><span id="L-257"><a href="#L-257"><span class="linenos">257</span></a>        <span class="n">absolute_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="L-258"><a href="#L-258"><span class="linenos">258</span></a>
</span><span id="L-259"><a href="#L-259"><span class="linenos">259</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-260"><a href="#L-260"><span class="linenos">260</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">):</span>
</span><span id="L-261"><a href="#L-261"><span class="linenos">261</span></a>                <span class="k">if</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="L-262"><a href="#L-262"><span class="linenos">262</span></a>                    <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_yaml</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
</span><span id="L-263"><a href="#L-263"><span class="linenos">263</span></a>                <span class="k">elif</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
</span><span id="L-264"><a href="#L-264"><span class="linenos">264</span></a>                    <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
</span><span id="L-265"><a href="#L-265"><span class="linenos">265</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-266"><a href="#L-266"><span class="linenos">266</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported file format. Use &#39;yaml&#39; or &#39;json&#39;.&quot;</span><span class="p">)</span>
</span><span id="L-267"><a href="#L-267"><span class="linenos">267</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-268"><a href="#L-268"><span class="linenos">268</span></a>                <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">model_defaults</span><span class="p">)</span>
</span><span id="L-269"><a href="#L-269"><span class="linenos">269</span></a>                <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="L-270"><a href="#L-270"><span class="linenos">270</span></a>            <span class="k">yield</span> <span class="n">instance</span>
</span><span id="L-271"><a href="#L-271"><span class="linenos">271</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">,</span> <span class="n">file_format</span><span class="p">)</span>
</span><span id="L-272"><a href="#L-272"><span class="linenos">272</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-273"><a href="#L-273"><span class="linenos">273</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error in io_context: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-274"><a href="#L-274"><span class="linenos">274</span></a>
</span><span id="L-275"><a href="#L-275"><span class="linenos">275</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-276"><a href="#L-276"><span class="linenos">276</span></a>    <span class="nd">@asynccontextmanager</span>
</span><span id="L-277"><a href="#L-277"><span class="linenos">277</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">aio_context</span><span class="p">(</span>
</span><span id="L-278"><a href="#L-278"><span class="linenos">278</span></a>        <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span>
</span><span id="L-279"><a href="#L-279"><span class="linenos">279</span></a>        <span class="n">model_defaults</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-280"><a href="#L-280"><span class="linenos">280</span></a>        <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="L-281"><a href="#L-281"><span class="linenos">281</span></a>        <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span>
</span><span id="L-282"><a href="#L-282"><span class="linenos">282</span></a>    <span class="p">):</span>
</span><span id="L-283"><a href="#L-283"><span class="linenos">283</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-284"><a href="#L-284"><span class="linenos">284</span></a><span class="sd">        Asynchronous context manager for convenient loading and saving of Pydantic models to/from YAML or JSON files.</span>
</span><span id="L-285"><a href="#L-285"><span class="linenos">285</span></a>
</span><span id="L-286"><a href="#L-286"><span class="linenos">286</span></a><span class="sd">        :param model_defaults: Default values to use if the file doesn&#39;t exist.</span>
</span><span id="L-287"><a href="#L-287"><span class="linenos">287</span></a><span class="sd">        :param file_path: Path to the file. If None, uses the class name as the filename.</span>
</span><span id="L-288"><a href="#L-288"><span class="linenos">288</span></a><span class="sd">        :param file_format: The format of the file (&#39;yaml&#39; or &#39;json&#39;).</span>
</span><span id="L-289"><a href="#L-289"><span class="linenos">289</span></a><span class="sd">        :raises ValueError: If an unsupported file format is provided.</span>
</span><span id="L-290"><a href="#L-290"><span class="linenos">290</span></a><span class="sd">        :raises RuntimeError: If an error occurs during the context manager operation.</span>
</span><span id="L-291"><a href="#L-291"><span class="linenos">291</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-292"><a href="#L-292"><span class="linenos">292</span></a>        <span class="k">if</span> <span class="n">model_defaults</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-293"><a href="#L-293"><span class="linenos">293</span></a>            <span class="n">model_defaults</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="L-294"><a href="#L-294"><span class="linenos">294</span></a>
</span><span id="L-295"><a href="#L-295"><span class="linenos">295</span></a>        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="L-296"><a href="#L-296"><span class="linenos">296</span></a>            <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="L-297"><a href="#L-297"><span class="linenos">297</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="L-298"><a href="#L-298"><span class="linenos">298</span></a>            <span class="n">filename</span> <span class="o">=</span> <span class="n">file_path</span>
</span><span id="L-299"><a href="#L-299"><span class="linenos">299</span></a>
</span><span id="L-300"><a href="#L-300"><span class="linenos">300</span></a>        <span class="n">absolute_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="L-301"><a href="#L-301"><span class="linenos">301</span></a>
</span><span id="L-302"><a href="#L-302"><span class="linenos">302</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-303"><a href="#L-303"><span class="linenos">303</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">):</span>
</span><span id="L-304"><a href="#L-304"><span class="linenos">304</span></a>                <span class="k">if</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="L-305"><a href="#L-305"><span class="linenos">305</span></a>                    <span class="n">instance</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">cls</span><span class="o">.</span><span class="n">afrom_yaml</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
</span><span id="L-306"><a href="#L-306"><span class="linenos">306</span></a>                <span class="k">elif</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
</span><span id="L-307"><a href="#L-307"><span class="linenos">307</span></a>                    <span class="n">instance</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">cls</span><span class="o">.</span><span class="n">afrom_json</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
</span><span id="L-308"><a href="#L-308"><span class="linenos">308</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="L-309"><a href="#L-309"><span class="linenos">309</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported file format. Use &#39;yaml&#39; or &#39;json&#39;.&quot;</span><span class="p">)</span>
</span><span id="L-310"><a href="#L-310"><span class="linenos">310</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="L-311"><a href="#L-311"><span class="linenos">311</span></a>                <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">model_defaults</span><span class="p">)</span>
</span><span id="L-312"><a href="#L-312"><span class="linenos">312</span></a>                <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="L-313"><a href="#L-313"><span class="linenos">313</span></a>            <span class="k">yield</span> <span class="n">instance</span>
</span><span id="L-314"><a href="#L-314"><span class="linenos">314</span></a>            <span class="k">await</span> <span class="n">instance</span><span class="o">.</span><span class="n">asave</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">,</span> <span class="n">file_format</span><span class="p">)</span>
</span><span id="L-315"><a href="#L-315"><span class="linenos">315</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-316"><a href="#L-316"><span class="linenos">316</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error in aio_context: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-317"><a href="#L-317"><span class="linenos">317</span></a>
</span><span id="L-318"><a href="#L-318"><span class="linenos">318</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">ato_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="L-319"><a href="#L-319"><span class="linenos">319</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-320"><a href="#L-320"><span class="linenos">320</span></a><span class="sd">        Asynchronously serializes the Pydantic model to JSON and writes to a file.</span>
</span><span id="L-321"><a href="#L-321"><span class="linenos">321</span></a>
</span><span id="L-322"><a href="#L-322"><span class="linenos">322</span></a><span class="sd">        :param file_path: The file path to write the JSON content.</span>
</span><span id="L-323"><a href="#L-323"><span class="linenos">323</span></a><span class="sd">                          If None, returns JSON string.</span>
</span><span id="L-324"><a href="#L-324"><span class="linenos">324</span></a><span class="sd">        :param kwargs: Additional keyword arguments to pass to json.dumps.</span>
</span><span id="L-325"><a href="#L-325"><span class="linenos">325</span></a><span class="sd">        :return: The JSON content as a string.</span>
</span><span id="L-326"><a href="#L-326"><span class="linenos">326</span></a><span class="sd">        :raises IOError: If serialization to JSON asynchronously fails.</span>
</span><span id="L-327"><a href="#L-327"><span class="linenos">327</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-328"><a href="#L-328"><span class="linenos">328</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-329"><a href="#L-329"><span class="linenos">329</span></a>            <span class="n">json_content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="L-330"><a href="#L-330"><span class="linenos">330</span></a>            <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="L-331"><a href="#L-331"><span class="linenos">331</span></a>                <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="L-332"><a href="#L-332"><span class="linenos">332</span></a>                    <span class="k">await</span> <span class="n">json_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json_content</span><span class="p">)</span>
</span><span id="L-333"><a href="#L-333"><span class="linenos">333</span></a>            <span class="k">return</span> <span class="n">json_content</span>
</span><span id="L-334"><a href="#L-334"><span class="linenos">334</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-335"><a href="#L-335"><span class="linenos">335</span></a>            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to serialize model to JSON asynchronously: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-336"><a href="#L-336"><span class="linenos">336</span></a>
</span><span id="L-337"><a href="#L-337"><span class="linenos">337</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-338"><a href="#L-338"><span class="linenos">338</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">afrom_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="L-339"><a href="#L-339"><span class="linenos">339</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-340"><a href="#L-340"><span class="linenos">340</span></a><span class="sd">        Asynchronously reads JSON content from a file and constructs an instance of the Pydantic model.</span>
</span><span id="L-341"><a href="#L-341"><span class="linenos">341</span></a>
</span><span id="L-342"><a href="#L-342"><span class="linenos">342</span></a><span class="sd">        :param file_path: The file path from which to read the JSON content.</span>
</span><span id="L-343"><a href="#L-343"><span class="linenos">343</span></a><span class="sd">        :return: An instance of the Pydantic model.</span>
</span><span id="L-344"><a href="#L-344"><span class="linenos">344</span></a><span class="sd">        :raises FileNotFoundError: If the JSON file is not found.</span>
</span><span id="L-345"><a href="#L-345"><span class="linenos">345</span></a><span class="sd">        :raises ValueError: If there is a parsing or validation error.</span>
</span><span id="L-346"><a href="#L-346"><span class="linenos">346</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-347"><a href="#L-347"><span class="linenos">347</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="L-348"><a href="#L-348"><span class="linenos">348</span></a>            <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="L-349"><a href="#L-349"><span class="linenos">349</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="k">await</span> <span class="n">json_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span><span id="L-350"><a href="#L-350"><span class="linenos">350</span></a>            <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="L-351"><a href="#L-351"><span class="linenos">351</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="L-352"><a href="#L-352"><span class="linenos">352</span></a>            <span class="k">return</span> <span class="n">instance</span>
</span><span id="L-353"><a href="#L-353"><span class="linenos">353</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="L-354"><a href="#L-354"><span class="linenos">354</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JSON file not found at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-355"><a href="#L-355"><span class="linenos">355</span></a>        <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="L-356"><a href="#L-356"><span class="linenos">356</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing JSON file at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-357"><a href="#L-357"><span class="linenos">357</span></a>        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
</span><span id="L-358"><a href="#L-358"><span class="linenos">358</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error while creating </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance: </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="L-359"><a href="#L-359"><span class="linenos">359</span></a>
</span><span id="L-360"><a href="#L-360"><span class="linenos">360</span></a>    <span class="k">def</span> <span class="nf">_post_load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-361"><a href="#L-361"><span class="linenos">361</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-362"><a href="#L-362"><span class="linenos">362</span></a><span class="sd">        Hook method called after loading the model instance.</span>
</span><span id="L-363"><a href="#L-363"><span class="linenos">363</span></a><span class="sd">        Override this method to implement custom logic after loading.</span>
</span><span id="L-364"><a href="#L-364"><span class="linenos">364</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-365"><a href="#L-365"><span class="linenos">365</span></a>        <span class="k">pass</span>
</span><span id="L-366"><a href="#L-366"><span class="linenos">366</span></a>
</span><span id="L-367"><a href="#L-367"><span class="linenos">367</span></a>    <span class="k">def</span> <span class="nf">_pre_save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="L-368"><a href="#L-368"><span class="linenos">368</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-369"><a href="#L-369"><span class="linenos">369</span></a><span class="sd">        Hook method called before saving the model instance.</span>
</span><span id="L-370"><a href="#L-370"><span class="linenos">370</span></a><span class="sd">        Override this method to implement custom logic before saving.</span>
</span><span id="L-371"><a href="#L-371"><span class="linenos">371</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-372"><a href="#L-372"><span class="linenos">372</span></a>        <span class="k">pass</span>
</span><span id="L-373"><a href="#L-373"><span class="linenos">373</span></a>
</span><span id="L-374"><a href="#L-374"><span class="linenos">374</span></a>    <span class="nd">@classmethod</span>
</span><span id="L-375"><a href="#L-375"><span class="linenos">375</span></a>    <span class="k">def</span> <span class="nf">from_prompt</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="L-376"><a href="#L-376"><span class="linenos">376</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-377"><a href="#L-377"><span class="linenos">377</span></a><span class="sd">        Creates an instance of the Pydantic model from a user prompt.</span>
</span><span id="L-378"><a href="#L-378"><span class="linenos">378</span></a>
</span><span id="L-379"><a href="#L-379"><span class="linenos">379</span></a><span class="sd">        :param prompt: The user prompt.</span>
</span><span id="L-380"><a href="#L-380"><span class="linenos">380</span></a><span class="sd">        :return: An instance of the Pydantic model.</span>
</span><span id="L-381"><a href="#L-381"><span class="linenos">381</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="L-382"><a href="#L-382"><span class="linenos">382</span></a>        <span class="k">return</span> <span class="n">gen_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
</span><span id="L-383"><a href="#L-383"><span class="linenos">383</span></a>
</span><span id="L-384"><a href="#L-384"><span class="linenos">384</span></a>
</span><span id="L-385"><a href="#L-385"><span class="linenos">385</span></a><span class="k">class</span> <span class="nc">DSLTask</span><span class="p">(</span><span class="n">DSLModel</span><span class="p">):</span>
</span><span id="L-386"><a href="#L-386"><span class="linenos">386</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-387"><a href="#L-387"><span class="linenos">387</span></a><span class="sd">    Represents a single DSL task.</span>
</span><span id="L-388"><a href="#L-388"><span class="linenos">388</span></a>
</span><span id="L-389"><a href="#L-389"><span class="linenos">389</span></a><span class="sd">    Attributes:</span>
</span><span id="L-390"><a href="#L-390"><span class="linenos">390</span></a><span class="sd">        prompt (str): The input prompt for generating the model.</span>
</span><span id="L-391"><a href="#L-391"><span class="linenos">391</span></a><span class="sd">        dsl_model (Type[DSLModel]): The DSL model class to use for the output.</span>
</span><span id="L-392"><a href="#L-392"><span class="linenos">392</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="L-393"><a href="#L-393"><span class="linenos">393</span></a>    <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="L-394"><a href="#L-394"><span class="linenos">394</span></a>    <span class="n">dsl_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">DSLModel</span><span class="p">]</span>
</span></pre></div>


            </section>
                <section id="DSLModel">
                            <input id="DSLModel-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DSLModel</span><wbr>(<span class="base">pydantic.main.BaseModel</span>):

                <label class="view-source-button" for="DSLModel-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel-18"><a href="#DSLModel-18"><span class="linenos"> 18</span></a><span class="k">class</span> <span class="nc">DSLModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
</span><span id="DSLModel-19"><a href="#DSLModel-19"><span class="linenos"> 19</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-20"><a href="#DSLModel-20"><span class="linenos"> 20</span></a><span class="sd">    A base model class that provides serialization and deserialization capabilities</span>
</span><span id="DSLModel-21"><a href="#DSLModel-21"><span class="linenos"> 21</span></a><span class="sd">    between Pydantic models and YAML and JSON formats. It facilitates saving model instances</span>
</span><span id="DSLModel-22"><a href="#DSLModel-22"><span class="linenos"> 22</span></a><span class="sd">    to files and loading data from files into model objects.</span>
</span><span id="DSLModel-23"><a href="#DSLModel-23"><span class="linenos"> 23</span></a><span class="sd">    Includes support for asynchronous file operations, versioning, enhanced context managers,</span>
</span><span id="DSLModel-24"><a href="#DSLModel-24"><span class="linenos"> 24</span></a><span class="sd">    automatic documentation generation, and enhanced error handling.</span>
</span><span id="DSLModel-25"><a href="#DSLModel-25"><span class="linenos"> 25</span></a>
</span><span id="DSLModel-26"><a href="#DSLModel-26"><span class="linenos"> 26</span></a><span class="sd">    Attributes:</span>
</span><span id="DSLModel-27"><a href="#DSLModel-27"><span class="linenos"> 27</span></a><span class="sd">        version (str): Version number of the model instance.</span>
</span><span id="DSLModel-28"><a href="#DSLModel-28"><span class="linenos"> 28</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="DSLModel-29"><a href="#DSLModel-29"><span class="linenos"> 29</span></a>
</span><span id="DSLModel-30"><a href="#DSLModel-30"><span class="linenos"> 30</span></a>    <span class="n">version</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;1.0.0&quot;</span>
</span><span id="DSLModel-31"><a href="#DSLModel-31"><span class="linenos"> 31</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Version number of the model instance.&quot;&quot;&quot;</span>
</span><span id="DSLModel-32"><a href="#DSLModel-32"><span class="linenos"> 32</span></a>
</span><span id="DSLModel-33"><a href="#DSLModel-33"><span class="linenos"> 33</span></a>    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
</span><span id="DSLModel-34"><a href="#DSLModel-34"><span class="linenos"> 34</span></a>        <span class="n">arbitrary_types_allowed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="DSLModel-35"><a href="#DSLModel-35"><span class="linenos"> 35</span></a>        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="DSLModel-36"><a href="#DSLModel-36"><span class="linenos"> 36</span></a>        <span class="n">populate_by_name</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="DSLModel-37"><a href="#DSLModel-37"><span class="linenos"> 37</span></a>
</span><span id="DSLModel-38"><a href="#DSLModel-38"><span class="linenos"> 38</span></a>    <span class="k">def</span> <span class="nf">generate_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extension</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DSLModel-39"><a href="#DSLModel-39"><span class="linenos"> 39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates a safe filename based on the model&#39;s content.&quot;&quot;&quot;</span>
</span><span id="DSLModel-40"><a href="#DSLModel-40"><span class="linenos"> 40</span></a>        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">()</span>
</span><span id="DSLModel-41"><a href="#DSLModel-41"><span class="linenos"> 41</span></a>
</span><span id="DSLModel-42"><a href="#DSLModel-42"><span class="linenos"> 42</span></a>        <span class="c1"># Generate the filename</span>
</span><span id="DSLModel-43"><a href="#DSLModel-43"><span class="linenos"> 43</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="n">file_name_call</span><span class="p">(</span><span class="n">file_content</span><span class="o">=</span><span class="n">content</span><span class="p">,</span> <span class="n">extension</span><span class="o">=</span><span class="n">extension</span><span class="p">)</span>
</span><span id="DSLModel-44"><a href="#DSLModel-44"><span class="linenos"> 44</span></a>        <span class="k">return</span> <span class="n">filename</span>
</span><span id="DSLModel-45"><a href="#DSLModel-45"><span class="linenos"> 45</span></a>
</span><span id="DSLModel-46"><a href="#DSLModel-46"><span class="linenos"> 46</span></a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DSLModel-47"><a href="#DSLModel-47"><span class="linenos"> 47</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-48"><a href="#DSLModel-48"><span class="linenos"> 48</span></a><span class="sd">        Saves the model to a file in the specified format. Automatically generates a filename if not provided.</span>
</span><span id="DSLModel-49"><a href="#DSLModel-49"><span class="linenos"> 49</span></a>
</span><span id="DSLModel-50"><a href="#DSLModel-50"><span class="linenos"> 50</span></a><span class="sd">        :param file_path: The path to the file. If None, generates a filename.</span>
</span><span id="DSLModel-51"><a href="#DSLModel-51"><span class="linenos"> 51</span></a><span class="sd">        :param file_format: The format to save the file in (&#39;yaml&#39; or &#39;json&#39;).</span>
</span><span id="DSLModel-52"><a href="#DSLModel-52"><span class="linenos"> 52</span></a><span class="sd">        :param add_timestamp: Whether to append a timestamp to the filename.</span>
</span><span id="DSLModel-53"><a href="#DSLModel-53"><span class="linenos"> 53</span></a>
</span><span id="DSLModel-54"><a href="#DSLModel-54"><span class="linenos"> 54</span></a><span class="sd">        :return: The path to the saved file.</span>
</span><span id="DSLModel-55"><a href="#DSLModel-55"><span class="linenos"> 55</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-56"><a href="#DSLModel-56"><span class="linenos"> 56</span></a>        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DSLModel-57"><a href="#DSLModel-57"><span class="linenos"> 57</span></a>            <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_filename</span><span class="p">(</span><span class="n">extension</span><span class="o">=</span><span class="n">file_format</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="o">=</span><span class="n">add_timestamp</span><span class="p">)</span>
</span><span id="DSLModel-58"><a href="#DSLModel-58"><span class="linenos"> 58</span></a>
</span><span id="DSLModel-59"><a href="#DSLModel-59"><span class="linenos"> 59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="DSLModel-60"><a href="#DSLModel-60"><span class="linenos"> 60</span></a>        <span class="k">if</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="DSLModel-61"><a href="#DSLModel-61"><span class="linenos"> 61</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="DSLModel-62"><a href="#DSLModel-62"><span class="linenos"> 62</span></a>        <span class="k">elif</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
</span><span id="DSLModel-63"><a href="#DSLModel-63"><span class="linenos"> 63</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="DSLModel-64"><a href="#DSLModel-64"><span class="linenos"> 64</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel-65"><a href="#DSLModel-65"><span class="linenos"> 65</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported file format. Use &#39;yaml&#39; or &#39;json&#39;.&quot;</span><span class="p">)</span>
</span><span id="DSLModel-66"><a href="#DSLModel-66"><span class="linenos"> 66</span></a>
</span><span id="DSLModel-67"><a href="#DSLModel-67"><span class="linenos"> 67</span></a>        <span class="k">return</span> <span class="n">file_path</span>
</span><span id="DSLModel-68"><a href="#DSLModel-68"><span class="linenos"> 68</span></a>
</span><span id="DSLModel-69"><a href="#DSLModel-69"><span class="linenos"> 69</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">asave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="DSLModel-70"><a href="#DSLModel-70"><span class="linenos"> 70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-71"><a href="#DSLModel-71"><span class="linenos"> 71</span></a><span class="sd">        Asynchronously saves the model to a file in the specified format. Automatically generates a filename if not provided.</span>
</span><span id="DSLModel-72"><a href="#DSLModel-72"><span class="linenos"> 72</span></a>
</span><span id="DSLModel-73"><a href="#DSLModel-73"><span class="linenos"> 73</span></a><span class="sd">        :param file_path: The path to the file. If None, generates a filename.</span>
</span><span id="DSLModel-74"><a href="#DSLModel-74"><span class="linenos"> 74</span></a><span class="sd">        :param file_format: The format to save the file in (&#39;yaml&#39; or &#39;json&#39;).</span>
</span><span id="DSLModel-75"><a href="#DSLModel-75"><span class="linenos"> 75</span></a><span class="sd">        :param add_timestamp: Whether to append a timestamp to the filename.</span>
</span><span id="DSLModel-76"><a href="#DSLModel-76"><span class="linenos"> 76</span></a>
</span><span id="DSLModel-77"><a href="#DSLModel-77"><span class="linenos"> 77</span></a><span class="sd">        :return: The path to the saved file.</span>
</span><span id="DSLModel-78"><a href="#DSLModel-78"><span class="linenos"> 78</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-79"><a href="#DSLModel-79"><span class="linenos"> 79</span></a>        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DSLModel-80"><a href="#DSLModel-80"><span class="linenos"> 80</span></a>            <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_filename</span><span class="p">(</span><span class="n">extension</span><span class="o">=</span><span class="n">file_format</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="o">=</span><span class="n">add_timestamp</span><span class="p">)</span>
</span><span id="DSLModel-81"><a href="#DSLModel-81"><span class="linenos"> 81</span></a>
</span><span id="DSLModel-82"><a href="#DSLModel-82"><span class="linenos"> 82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="DSLModel-83"><a href="#DSLModel-83"><span class="linenos"> 83</span></a>        <span class="k">if</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="DSLModel-84"><a href="#DSLModel-84"><span class="linenos"> 84</span></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">ato_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="DSLModel-85"><a href="#DSLModel-85"><span class="linenos"> 85</span></a>        <span class="k">elif</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
</span><span id="DSLModel-86"><a href="#DSLModel-86"><span class="linenos"> 86</span></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">ato_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="DSLModel-87"><a href="#DSLModel-87"><span class="linenos"> 87</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel-88"><a href="#DSLModel-88"><span class="linenos"> 88</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported file format. Use &#39;yaml&#39; or &#39;json&#39;.&quot;</span><span class="p">)</span>
</span><span id="DSLModel-89"><a href="#DSLModel-89"><span class="linenos"> 89</span></a>
</span><span id="DSLModel-90"><a href="#DSLModel-90"><span class="linenos"> 90</span></a>        <span class="k">return</span> <span class="n">file_path</span>
</span><span id="DSLModel-91"><a href="#DSLModel-91"><span class="linenos"> 91</span></a>
</span><span id="DSLModel-92"><a href="#DSLModel-92"><span class="linenos"> 92</span></a>    <span class="k">def</span> <span class="nf">upgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DSLModel-93"><a href="#DSLModel-93"><span class="linenos"> 93</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-94"><a href="#DSLModel-94"><span class="linenos"> 94</span></a><span class="sd">        Placeholder method for upgrading the model instance to a new version.</span>
</span><span id="DSLModel-95"><a href="#DSLModel-95"><span class="linenos"> 95</span></a><span class="sd">        Implement version-specific upgrade logic here.</span>
</span><span id="DSLModel-96"><a href="#DSLModel-96"><span class="linenos"> 96</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-97"><a href="#DSLModel-97"><span class="linenos"> 97</span></a>        <span class="k">pass</span>
</span><span id="DSLModel-98"><a href="#DSLModel-98"><span class="linenos"> 98</span></a>
</span><span id="DSLModel-99"><a href="#DSLModel-99"><span class="linenos"> 99</span></a>    <span class="k">def</span> <span class="nf">to_yaml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DSLModel-100"><a href="#DSLModel-100"><span class="linenos">100</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-101"><a href="#DSLModel-101"><span class="linenos">101</span></a><span class="sd">        Serializes the Pydantic model instance into a YAML string and optionally writes it to a file.</span>
</span><span id="DSLModel-102"><a href="#DSLModel-102"><span class="linenos">102</span></a>
</span><span id="DSLModel-103"><a href="#DSLModel-103"><span class="linenos">103</span></a><span class="sd">        :param file_path: The file path to write the YAML content to.</span>
</span><span id="DSLModel-104"><a href="#DSLModel-104"><span class="linenos">104</span></a><span class="sd">                          If None, only the YAML string is returned.</span>
</span><span id="DSLModel-105"><a href="#DSLModel-105"><span class="linenos">105</span></a><span class="sd">        :return: The YAML representation of the model.</span>
</span><span id="DSLModel-106"><a href="#DSLModel-106"><span class="linenos">106</span></a><span class="sd">        :raises IOError: If serialization to YAML fails.</span>
</span><span id="DSLModel-107"><a href="#DSLModel-107"><span class="linenos">107</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-108"><a href="#DSLModel-108"><span class="linenos">108</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel-109"><a href="#DSLModel-109"><span class="linenos">109</span></a>            <span class="n">yaml_content</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
</span><span id="DSLModel-110"><a href="#DSLModel-110"><span class="linenos">110</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
</span><span id="DSLModel-111"><a href="#DSLModel-111"><span class="linenos">111</span></a>                <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="DSLModel-112"><a href="#DSLModel-112"><span class="linenos">112</span></a>                <span class="n">width</span><span class="o">=</span><span class="mi">1000</span>
</span><span id="DSLModel-113"><a href="#DSLModel-113"><span class="linenos">113</span></a>            <span class="p">)</span>
</span><span id="DSLModel-114"><a href="#DSLModel-114"><span class="linenos">114</span></a>            <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="DSLModel-115"><a href="#DSLModel-115"><span class="linenos">115</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="DSLModel-116"><a href="#DSLModel-116"><span class="linenos">116</span></a>                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
</span><span id="DSLModel-117"><a href="#DSLModel-117"><span class="linenos">117</span></a>                    <span class="n">yaml_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">yaml_content</span><span class="p">)</span>
</span><span id="DSLModel-118"><a href="#DSLModel-118"><span class="linenos">118</span></a>            <span class="k">return</span> <span class="n">yaml_content</span>
</span><span id="DSLModel-119"><a href="#DSLModel-119"><span class="linenos">119</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel-120"><a href="#DSLModel-120"><span class="linenos">120</span></a>            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to serialize model to YAML: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-121"><a href="#DSLModel-121"><span class="linenos">121</span></a>
</span><span id="DSLModel-122"><a href="#DSLModel-122"><span class="linenos">122</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel-123"><a href="#DSLModel-123"><span class="linenos">123</span></a>    <span class="k">def</span> <span class="nf">from_yaml</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="DSLModel-124"><a href="#DSLModel-124"><span class="linenos">124</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-125"><a href="#DSLModel-125"><span class="linenos">125</span></a><span class="sd">        Reads YAML content from a file and creates an instance of the Pydantic model.</span>
</span><span id="DSLModel-126"><a href="#DSLModel-126"><span class="linenos">126</span></a>
</span><span id="DSLModel-127"><a href="#DSLModel-127"><span class="linenos">127</span></a><span class="sd">        :param file_path: The path to the YAML file.</span>
</span><span id="DSLModel-128"><a href="#DSLModel-128"><span class="linenos">128</span></a><span class="sd">        :return: An instance of the Pydantic model populated with data from the YAML file.</span>
</span><span id="DSLModel-129"><a href="#DSLModel-129"><span class="linenos">129</span></a><span class="sd">        :raises FileNotFoundError: If the YAML file is not found.</span>
</span><span id="DSLModel-130"><a href="#DSLModel-130"><span class="linenos">130</span></a><span class="sd">        :raises ValueError: If there is a parsing or validation error.</span>
</span><span id="DSLModel-131"><a href="#DSLModel-131"><span class="linenos">131</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-132"><a href="#DSLModel-132"><span class="linenos">132</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel-133"><a href="#DSLModel-133"><span class="linenos">133</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
</span><span id="DSLModel-134"><a href="#DSLModel-134"><span class="linenos">134</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">yaml_file</span><span class="p">)</span>
</span><span id="DSLModel-135"><a href="#DSLModel-135"><span class="linenos">135</span></a>            <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="DSLModel-136"><a href="#DSLModel-136"><span class="linenos">136</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="DSLModel-137"><a href="#DSLModel-137"><span class="linenos">137</span></a>            <span class="k">return</span> <span class="n">instance</span>
</span><span id="DSLModel-138"><a href="#DSLModel-138"><span class="linenos">138</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="DSLModel-139"><a href="#DSLModel-139"><span class="linenos">139</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;YAML file not found at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-140"><a href="#DSLModel-140"><span class="linenos">140</span></a>        <span class="k">except</span> <span class="n">yaml</span><span class="o">.</span><span class="n">YAMLError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel-141"><a href="#DSLModel-141"><span class="linenos">141</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing YAML file at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-142"><a href="#DSLModel-142"><span class="linenos">142</span></a>        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
</span><span id="DSLModel-143"><a href="#DSLModel-143"><span class="linenos">143</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error while creating </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance: </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-144"><a href="#DSLModel-144"><span class="linenos">144</span></a>
</span><span id="DSLModel-145"><a href="#DSLModel-145"><span class="linenos">145</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">ato_yaml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DSLModel-146"><a href="#DSLModel-146"><span class="linenos">146</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-147"><a href="#DSLModel-147"><span class="linenos">147</span></a><span class="sd">        Asynchronously serializes the Pydantic model to YAML and writes to a file.</span>
</span><span id="DSLModel-148"><a href="#DSLModel-148"><span class="linenos">148</span></a>
</span><span id="DSLModel-149"><a href="#DSLModel-149"><span class="linenos">149</span></a><span class="sd">        :param file_path: The file path to write the YAML content.</span>
</span><span id="DSLModel-150"><a href="#DSLModel-150"><span class="linenos">150</span></a><span class="sd">                          If None, returns YAML string.</span>
</span><span id="DSLModel-151"><a href="#DSLModel-151"><span class="linenos">151</span></a><span class="sd">        :return: The YAML content as a string.</span>
</span><span id="DSLModel-152"><a href="#DSLModel-152"><span class="linenos">152</span></a><span class="sd">        :raises IOError: If serialization to YAML asynchronously fails.</span>
</span><span id="DSLModel-153"><a href="#DSLModel-153"><span class="linenos">153</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-154"><a href="#DSLModel-154"><span class="linenos">154</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel-155"><a href="#DSLModel-155"><span class="linenos">155</span></a>            <span class="n">yaml_content</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
</span><span id="DSLModel-156"><a href="#DSLModel-156"><span class="linenos">156</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
</span><span id="DSLModel-157"><a href="#DSLModel-157"><span class="linenos">157</span></a>                <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="DSLModel-158"><a href="#DSLModel-158"><span class="linenos">158</span></a>                <span class="n">width</span><span class="o">=</span><span class="mi">1000</span>
</span><span id="DSLModel-159"><a href="#DSLModel-159"><span class="linenos">159</span></a>            <span class="p">)</span>
</span><span id="DSLModel-160"><a href="#DSLModel-160"><span class="linenos">160</span></a>            <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="DSLModel-161"><a href="#DSLModel-161"><span class="linenos">161</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="DSLModel-162"><a href="#DSLModel-162"><span class="linenos">162</span></a>                <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
</span><span id="DSLModel-163"><a href="#DSLModel-163"><span class="linenos">163</span></a>                    <span class="k">await</span> <span class="n">yaml_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">yaml_content</span><span class="p">)</span>
</span><span id="DSLModel-164"><a href="#DSLModel-164"><span class="linenos">164</span></a>            <span class="k">return</span> <span class="n">yaml_content</span>
</span><span id="DSLModel-165"><a href="#DSLModel-165"><span class="linenos">165</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel-166"><a href="#DSLModel-166"><span class="linenos">166</span></a>            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to serialize model to YAML asynchronously: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-167"><a href="#DSLModel-167"><span class="linenos">167</span></a>
</span><span id="DSLModel-168"><a href="#DSLModel-168"><span class="linenos">168</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel-169"><a href="#DSLModel-169"><span class="linenos">169</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">afrom_yaml</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="DSLModel-170"><a href="#DSLModel-170"><span class="linenos">170</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-171"><a href="#DSLModel-171"><span class="linenos">171</span></a><span class="sd">        Asynchronously reads YAML content from a file and constructs an instance of the Pydantic model.</span>
</span><span id="DSLModel-172"><a href="#DSLModel-172"><span class="linenos">172</span></a>
</span><span id="DSLModel-173"><a href="#DSLModel-173"><span class="linenos">173</span></a><span class="sd">        :param file_path: The file path from which to read the YAML content.</span>
</span><span id="DSLModel-174"><a href="#DSLModel-174"><span class="linenos">174</span></a><span class="sd">        :return: An instance of the Pydantic model.</span>
</span><span id="DSLModel-175"><a href="#DSLModel-175"><span class="linenos">175</span></a><span class="sd">        :raises FileNotFoundError: If the YAML file is not found.</span>
</span><span id="DSLModel-176"><a href="#DSLModel-176"><span class="linenos">176</span></a><span class="sd">        :raises ValueError: If there is a parsing or validation error.</span>
</span><span id="DSLModel-177"><a href="#DSLModel-177"><span class="linenos">177</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-178"><a href="#DSLModel-178"><span class="linenos">178</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel-179"><a href="#DSLModel-179"><span class="linenos">179</span></a>            <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
</span><span id="DSLModel-180"><a href="#DSLModel-180"><span class="linenos">180</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="k">await</span> <span class="n">yaml_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span><span id="DSLModel-181"><a href="#DSLModel-181"><span class="linenos">181</span></a>            <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="DSLModel-182"><a href="#DSLModel-182"><span class="linenos">182</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="DSLModel-183"><a href="#DSLModel-183"><span class="linenos">183</span></a>            <span class="k">return</span> <span class="n">instance</span>
</span><span id="DSLModel-184"><a href="#DSLModel-184"><span class="linenos">184</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="DSLModel-185"><a href="#DSLModel-185"><span class="linenos">185</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;YAML file not found at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-186"><a href="#DSLModel-186"><span class="linenos">186</span></a>        <span class="k">except</span> <span class="n">yaml</span><span class="o">.</span><span class="n">YAMLError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel-187"><a href="#DSLModel-187"><span class="linenos">187</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing YAML file at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-188"><a href="#DSLModel-188"><span class="linenos">188</span></a>        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
</span><span id="DSLModel-189"><a href="#DSLModel-189"><span class="linenos">189</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error while creating </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance: </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-190"><a href="#DSLModel-190"><span class="linenos">190</span></a>
</span><span id="DSLModel-191"><a href="#DSLModel-191"><span class="linenos">191</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DSLModel-192"><a href="#DSLModel-192"><span class="linenos">192</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-193"><a href="#DSLModel-193"><span class="linenos">193</span></a><span class="sd">        Serializes the Pydantic model instance into a JSON string and optionally writes it to a file.</span>
</span><span id="DSLModel-194"><a href="#DSLModel-194"><span class="linenos">194</span></a>
</span><span id="DSLModel-195"><a href="#DSLModel-195"><span class="linenos">195</span></a><span class="sd">        :param file_path: The file path to write the JSON content to.</span>
</span><span id="DSLModel-196"><a href="#DSLModel-196"><span class="linenos">196</span></a><span class="sd">                          If None, only the JSON string is returned.</span>
</span><span id="DSLModel-197"><a href="#DSLModel-197"><span class="linenos">197</span></a><span class="sd">        :param kwargs: Additional keyword arguments to pass to json.dumps.</span>
</span><span id="DSLModel-198"><a href="#DSLModel-198"><span class="linenos">198</span></a><span class="sd">        :return: The JSON representation of the model.</span>
</span><span id="DSLModel-199"><a href="#DSLModel-199"><span class="linenos">199</span></a><span class="sd">        :raises IOError: If serialization to JSON fails.</span>
</span><span id="DSLModel-200"><a href="#DSLModel-200"><span class="linenos">200</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-201"><a href="#DSLModel-201"><span class="linenos">201</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel-202"><a href="#DSLModel-202"><span class="linenos">202</span></a>            <span class="n">json_content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DSLModel-203"><a href="#DSLModel-203"><span class="linenos">203</span></a>            <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="DSLModel-204"><a href="#DSLModel-204"><span class="linenos">204</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="DSLModel-205"><a href="#DSLModel-205"><span class="linenos">205</span></a>                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="DSLModel-206"><a href="#DSLModel-206"><span class="linenos">206</span></a>                    <span class="n">json_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json_content</span><span class="p">)</span>
</span><span id="DSLModel-207"><a href="#DSLModel-207"><span class="linenos">207</span></a>            <span class="k">return</span> <span class="n">json_content</span>
</span><span id="DSLModel-208"><a href="#DSLModel-208"><span class="linenos">208</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel-209"><a href="#DSLModel-209"><span class="linenos">209</span></a>            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to serialize model to JSON: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-210"><a href="#DSLModel-210"><span class="linenos">210</span></a>
</span><span id="DSLModel-211"><a href="#DSLModel-211"><span class="linenos">211</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel-212"><a href="#DSLModel-212"><span class="linenos">212</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="DSLModel-213"><a href="#DSLModel-213"><span class="linenos">213</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-214"><a href="#DSLModel-214"><span class="linenos">214</span></a><span class="sd">        Reads JSON content from a file and creates an instance of the Pydantic model.</span>
</span><span id="DSLModel-215"><a href="#DSLModel-215"><span class="linenos">215</span></a>
</span><span id="DSLModel-216"><a href="#DSLModel-216"><span class="linenos">216</span></a><span class="sd">        :param file_path: The path to the JSON file.</span>
</span><span id="DSLModel-217"><a href="#DSLModel-217"><span class="linenos">217</span></a><span class="sd">        :return: An instance of the Pydantic model populated with data from the JSON file.</span>
</span><span id="DSLModel-218"><a href="#DSLModel-218"><span class="linenos">218</span></a><span class="sd">        :raises FileNotFoundError: If the JSON file is not found.</span>
</span><span id="DSLModel-219"><a href="#DSLModel-219"><span class="linenos">219</span></a><span class="sd">        :raises ValueError: If there is a parsing or validation error.</span>
</span><span id="DSLModel-220"><a href="#DSLModel-220"><span class="linenos">220</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-221"><a href="#DSLModel-221"><span class="linenos">221</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel-222"><a href="#DSLModel-222"><span class="linenos">222</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="DSLModel-223"><a href="#DSLModel-223"><span class="linenos">223</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>
</span><span id="DSLModel-224"><a href="#DSLModel-224"><span class="linenos">224</span></a>            <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="DSLModel-225"><a href="#DSLModel-225"><span class="linenos">225</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="DSLModel-226"><a href="#DSLModel-226"><span class="linenos">226</span></a>            <span class="k">return</span> <span class="n">instance</span>
</span><span id="DSLModel-227"><a href="#DSLModel-227"><span class="linenos">227</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="DSLModel-228"><a href="#DSLModel-228"><span class="linenos">228</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JSON file not found at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-229"><a href="#DSLModel-229"><span class="linenos">229</span></a>        <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel-230"><a href="#DSLModel-230"><span class="linenos">230</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing JSON file at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-231"><a href="#DSLModel-231"><span class="linenos">231</span></a>        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
</span><span id="DSLModel-232"><a href="#DSLModel-232"><span class="linenos">232</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error while creating </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance: </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-233"><a href="#DSLModel-233"><span class="linenos">233</span></a>
</span><span id="DSLModel-234"><a href="#DSLModel-234"><span class="linenos">234</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel-235"><a href="#DSLModel-235"><span class="linenos">235</span></a>    <span class="nd">@contextmanager</span>
</span><span id="DSLModel-236"><a href="#DSLModel-236"><span class="linenos">236</span></a>    <span class="k">def</span> <span class="nf">io_context</span><span class="p">(</span>
</span><span id="DSLModel-237"><a href="#DSLModel-237"><span class="linenos">237</span></a>        <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span>
</span><span id="DSLModel-238"><a href="#DSLModel-238"><span class="linenos">238</span></a>        <span class="n">model_defaults</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DSLModel-239"><a href="#DSLModel-239"><span class="linenos">239</span></a>        <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DSLModel-240"><a href="#DSLModel-240"><span class="linenos">240</span></a>        <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span>
</span><span id="DSLModel-241"><a href="#DSLModel-241"><span class="linenos">241</span></a>    <span class="p">):</span>
</span><span id="DSLModel-242"><a href="#DSLModel-242"><span class="linenos">242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-243"><a href="#DSLModel-243"><span class="linenos">243</span></a><span class="sd">        Context manager for convenient loading and saving of Pydantic models to/from YAML or JSON files.</span>
</span><span id="DSLModel-244"><a href="#DSLModel-244"><span class="linenos">244</span></a>
</span><span id="DSLModel-245"><a href="#DSLModel-245"><span class="linenos">245</span></a><span class="sd">        :param model_defaults: Default values to use if the file doesn&#39;t exist.</span>
</span><span id="DSLModel-246"><a href="#DSLModel-246"><span class="linenos">246</span></a><span class="sd">        :param file_path: Path to the file. If None, uses the class name as the filename.</span>
</span><span id="DSLModel-247"><a href="#DSLModel-247"><span class="linenos">247</span></a><span class="sd">        :param file_format: The format of the file (&#39;yaml&#39; or &#39;json&#39;).</span>
</span><span id="DSLModel-248"><a href="#DSLModel-248"><span class="linenos">248</span></a><span class="sd">        :raises ValueError: If an unsupported file format is provided.</span>
</span><span id="DSLModel-249"><a href="#DSLModel-249"><span class="linenos">249</span></a><span class="sd">        :raises RuntimeError: If an error occurs during the context manager operation.</span>
</span><span id="DSLModel-250"><a href="#DSLModel-250"><span class="linenos">250</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-251"><a href="#DSLModel-251"><span class="linenos">251</span></a>        <span class="k">if</span> <span class="n">model_defaults</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DSLModel-252"><a href="#DSLModel-252"><span class="linenos">252</span></a>            <span class="n">model_defaults</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DSLModel-253"><a href="#DSLModel-253"><span class="linenos">253</span></a>
</span><span id="DSLModel-254"><a href="#DSLModel-254"><span class="linenos">254</span></a>        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DSLModel-255"><a href="#DSLModel-255"><span class="linenos">255</span></a>            <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="DSLModel-256"><a href="#DSLModel-256"><span class="linenos">256</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel-257"><a href="#DSLModel-257"><span class="linenos">257</span></a>            <span class="n">filename</span> <span class="o">=</span> <span class="n">file_path</span>
</span><span id="DSLModel-258"><a href="#DSLModel-258"><span class="linenos">258</span></a>
</span><span id="DSLModel-259"><a href="#DSLModel-259"><span class="linenos">259</span></a>        <span class="n">absolute_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="DSLModel-260"><a href="#DSLModel-260"><span class="linenos">260</span></a>
</span><span id="DSLModel-261"><a href="#DSLModel-261"><span class="linenos">261</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel-262"><a href="#DSLModel-262"><span class="linenos">262</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">):</span>
</span><span id="DSLModel-263"><a href="#DSLModel-263"><span class="linenos">263</span></a>                <span class="k">if</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="DSLModel-264"><a href="#DSLModel-264"><span class="linenos">264</span></a>                    <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_yaml</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
</span><span id="DSLModel-265"><a href="#DSLModel-265"><span class="linenos">265</span></a>                <span class="k">elif</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
</span><span id="DSLModel-266"><a href="#DSLModel-266"><span class="linenos">266</span></a>                    <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
</span><span id="DSLModel-267"><a href="#DSLModel-267"><span class="linenos">267</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel-268"><a href="#DSLModel-268"><span class="linenos">268</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported file format. Use &#39;yaml&#39; or &#39;json&#39;.&quot;</span><span class="p">)</span>
</span><span id="DSLModel-269"><a href="#DSLModel-269"><span class="linenos">269</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel-270"><a href="#DSLModel-270"><span class="linenos">270</span></a>                <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">model_defaults</span><span class="p">)</span>
</span><span id="DSLModel-271"><a href="#DSLModel-271"><span class="linenos">271</span></a>                <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="DSLModel-272"><a href="#DSLModel-272"><span class="linenos">272</span></a>            <span class="k">yield</span> <span class="n">instance</span>
</span><span id="DSLModel-273"><a href="#DSLModel-273"><span class="linenos">273</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">,</span> <span class="n">file_format</span><span class="p">)</span>
</span><span id="DSLModel-274"><a href="#DSLModel-274"><span class="linenos">274</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel-275"><a href="#DSLModel-275"><span class="linenos">275</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error in io_context: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-276"><a href="#DSLModel-276"><span class="linenos">276</span></a>
</span><span id="DSLModel-277"><a href="#DSLModel-277"><span class="linenos">277</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel-278"><a href="#DSLModel-278"><span class="linenos">278</span></a>    <span class="nd">@asynccontextmanager</span>
</span><span id="DSLModel-279"><a href="#DSLModel-279"><span class="linenos">279</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">aio_context</span><span class="p">(</span>
</span><span id="DSLModel-280"><a href="#DSLModel-280"><span class="linenos">280</span></a>        <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span>
</span><span id="DSLModel-281"><a href="#DSLModel-281"><span class="linenos">281</span></a>        <span class="n">model_defaults</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DSLModel-282"><a href="#DSLModel-282"><span class="linenos">282</span></a>        <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DSLModel-283"><a href="#DSLModel-283"><span class="linenos">283</span></a>        <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span>
</span><span id="DSLModel-284"><a href="#DSLModel-284"><span class="linenos">284</span></a>    <span class="p">):</span>
</span><span id="DSLModel-285"><a href="#DSLModel-285"><span class="linenos">285</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-286"><a href="#DSLModel-286"><span class="linenos">286</span></a><span class="sd">        Asynchronous context manager for convenient loading and saving of Pydantic models to/from YAML or JSON files.</span>
</span><span id="DSLModel-287"><a href="#DSLModel-287"><span class="linenos">287</span></a>
</span><span id="DSLModel-288"><a href="#DSLModel-288"><span class="linenos">288</span></a><span class="sd">        :param model_defaults: Default values to use if the file doesn&#39;t exist.</span>
</span><span id="DSLModel-289"><a href="#DSLModel-289"><span class="linenos">289</span></a><span class="sd">        :param file_path: Path to the file. If None, uses the class name as the filename.</span>
</span><span id="DSLModel-290"><a href="#DSLModel-290"><span class="linenos">290</span></a><span class="sd">        :param file_format: The format of the file (&#39;yaml&#39; or &#39;json&#39;).</span>
</span><span id="DSLModel-291"><a href="#DSLModel-291"><span class="linenos">291</span></a><span class="sd">        :raises ValueError: If an unsupported file format is provided.</span>
</span><span id="DSLModel-292"><a href="#DSLModel-292"><span class="linenos">292</span></a><span class="sd">        :raises RuntimeError: If an error occurs during the context manager operation.</span>
</span><span id="DSLModel-293"><a href="#DSLModel-293"><span class="linenos">293</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-294"><a href="#DSLModel-294"><span class="linenos">294</span></a>        <span class="k">if</span> <span class="n">model_defaults</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DSLModel-295"><a href="#DSLModel-295"><span class="linenos">295</span></a>            <span class="n">model_defaults</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DSLModel-296"><a href="#DSLModel-296"><span class="linenos">296</span></a>
</span><span id="DSLModel-297"><a href="#DSLModel-297"><span class="linenos">297</span></a>        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DSLModel-298"><a href="#DSLModel-298"><span class="linenos">298</span></a>            <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="DSLModel-299"><a href="#DSLModel-299"><span class="linenos">299</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel-300"><a href="#DSLModel-300"><span class="linenos">300</span></a>            <span class="n">filename</span> <span class="o">=</span> <span class="n">file_path</span>
</span><span id="DSLModel-301"><a href="#DSLModel-301"><span class="linenos">301</span></a>
</span><span id="DSLModel-302"><a href="#DSLModel-302"><span class="linenos">302</span></a>        <span class="n">absolute_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="DSLModel-303"><a href="#DSLModel-303"><span class="linenos">303</span></a>
</span><span id="DSLModel-304"><a href="#DSLModel-304"><span class="linenos">304</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel-305"><a href="#DSLModel-305"><span class="linenos">305</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">):</span>
</span><span id="DSLModel-306"><a href="#DSLModel-306"><span class="linenos">306</span></a>                <span class="k">if</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="DSLModel-307"><a href="#DSLModel-307"><span class="linenos">307</span></a>                    <span class="n">instance</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">cls</span><span class="o">.</span><span class="n">afrom_yaml</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
</span><span id="DSLModel-308"><a href="#DSLModel-308"><span class="linenos">308</span></a>                <span class="k">elif</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
</span><span id="DSLModel-309"><a href="#DSLModel-309"><span class="linenos">309</span></a>                    <span class="n">instance</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">cls</span><span class="o">.</span><span class="n">afrom_json</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
</span><span id="DSLModel-310"><a href="#DSLModel-310"><span class="linenos">310</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel-311"><a href="#DSLModel-311"><span class="linenos">311</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported file format. Use &#39;yaml&#39; or &#39;json&#39;.&quot;</span><span class="p">)</span>
</span><span id="DSLModel-312"><a href="#DSLModel-312"><span class="linenos">312</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel-313"><a href="#DSLModel-313"><span class="linenos">313</span></a>                <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">model_defaults</span><span class="p">)</span>
</span><span id="DSLModel-314"><a href="#DSLModel-314"><span class="linenos">314</span></a>                <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="DSLModel-315"><a href="#DSLModel-315"><span class="linenos">315</span></a>            <span class="k">yield</span> <span class="n">instance</span>
</span><span id="DSLModel-316"><a href="#DSLModel-316"><span class="linenos">316</span></a>            <span class="k">await</span> <span class="n">instance</span><span class="o">.</span><span class="n">asave</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">,</span> <span class="n">file_format</span><span class="p">)</span>
</span><span id="DSLModel-317"><a href="#DSLModel-317"><span class="linenos">317</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel-318"><a href="#DSLModel-318"><span class="linenos">318</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error in aio_context: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-319"><a href="#DSLModel-319"><span class="linenos">319</span></a>
</span><span id="DSLModel-320"><a href="#DSLModel-320"><span class="linenos">320</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">ato_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DSLModel-321"><a href="#DSLModel-321"><span class="linenos">321</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-322"><a href="#DSLModel-322"><span class="linenos">322</span></a><span class="sd">        Asynchronously serializes the Pydantic model to JSON and writes to a file.</span>
</span><span id="DSLModel-323"><a href="#DSLModel-323"><span class="linenos">323</span></a>
</span><span id="DSLModel-324"><a href="#DSLModel-324"><span class="linenos">324</span></a><span class="sd">        :param file_path: The file path to write the JSON content.</span>
</span><span id="DSLModel-325"><a href="#DSLModel-325"><span class="linenos">325</span></a><span class="sd">                          If None, returns JSON string.</span>
</span><span id="DSLModel-326"><a href="#DSLModel-326"><span class="linenos">326</span></a><span class="sd">        :param kwargs: Additional keyword arguments to pass to json.dumps.</span>
</span><span id="DSLModel-327"><a href="#DSLModel-327"><span class="linenos">327</span></a><span class="sd">        :return: The JSON content as a string.</span>
</span><span id="DSLModel-328"><a href="#DSLModel-328"><span class="linenos">328</span></a><span class="sd">        :raises IOError: If serialization to JSON asynchronously fails.</span>
</span><span id="DSLModel-329"><a href="#DSLModel-329"><span class="linenos">329</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-330"><a href="#DSLModel-330"><span class="linenos">330</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel-331"><a href="#DSLModel-331"><span class="linenos">331</span></a>            <span class="n">json_content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DSLModel-332"><a href="#DSLModel-332"><span class="linenos">332</span></a>            <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="DSLModel-333"><a href="#DSLModel-333"><span class="linenos">333</span></a>                <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="DSLModel-334"><a href="#DSLModel-334"><span class="linenos">334</span></a>                    <span class="k">await</span> <span class="n">json_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json_content</span><span class="p">)</span>
</span><span id="DSLModel-335"><a href="#DSLModel-335"><span class="linenos">335</span></a>            <span class="k">return</span> <span class="n">json_content</span>
</span><span id="DSLModel-336"><a href="#DSLModel-336"><span class="linenos">336</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel-337"><a href="#DSLModel-337"><span class="linenos">337</span></a>            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to serialize model to JSON asynchronously: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-338"><a href="#DSLModel-338"><span class="linenos">338</span></a>
</span><span id="DSLModel-339"><a href="#DSLModel-339"><span class="linenos">339</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel-340"><a href="#DSLModel-340"><span class="linenos">340</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">afrom_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="DSLModel-341"><a href="#DSLModel-341"><span class="linenos">341</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-342"><a href="#DSLModel-342"><span class="linenos">342</span></a><span class="sd">        Asynchronously reads JSON content from a file and constructs an instance of the Pydantic model.</span>
</span><span id="DSLModel-343"><a href="#DSLModel-343"><span class="linenos">343</span></a>
</span><span id="DSLModel-344"><a href="#DSLModel-344"><span class="linenos">344</span></a><span class="sd">        :param file_path: The file path from which to read the JSON content.</span>
</span><span id="DSLModel-345"><a href="#DSLModel-345"><span class="linenos">345</span></a><span class="sd">        :return: An instance of the Pydantic model.</span>
</span><span id="DSLModel-346"><a href="#DSLModel-346"><span class="linenos">346</span></a><span class="sd">        :raises FileNotFoundError: If the JSON file is not found.</span>
</span><span id="DSLModel-347"><a href="#DSLModel-347"><span class="linenos">347</span></a><span class="sd">        :raises ValueError: If there is a parsing or validation error.</span>
</span><span id="DSLModel-348"><a href="#DSLModel-348"><span class="linenos">348</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-349"><a href="#DSLModel-349"><span class="linenos">349</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel-350"><a href="#DSLModel-350"><span class="linenos">350</span></a>            <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="DSLModel-351"><a href="#DSLModel-351"><span class="linenos">351</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="k">await</span> <span class="n">json_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span><span id="DSLModel-352"><a href="#DSLModel-352"><span class="linenos">352</span></a>            <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="DSLModel-353"><a href="#DSLModel-353"><span class="linenos">353</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="DSLModel-354"><a href="#DSLModel-354"><span class="linenos">354</span></a>            <span class="k">return</span> <span class="n">instance</span>
</span><span id="DSLModel-355"><a href="#DSLModel-355"><span class="linenos">355</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="DSLModel-356"><a href="#DSLModel-356"><span class="linenos">356</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JSON file not found at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-357"><a href="#DSLModel-357"><span class="linenos">357</span></a>        <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel-358"><a href="#DSLModel-358"><span class="linenos">358</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing JSON file at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-359"><a href="#DSLModel-359"><span class="linenos">359</span></a>        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
</span><span id="DSLModel-360"><a href="#DSLModel-360"><span class="linenos">360</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error while creating </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance: </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel-361"><a href="#DSLModel-361"><span class="linenos">361</span></a>
</span><span id="DSLModel-362"><a href="#DSLModel-362"><span class="linenos">362</span></a>    <span class="k">def</span> <span class="nf">_post_load</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DSLModel-363"><a href="#DSLModel-363"><span class="linenos">363</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-364"><a href="#DSLModel-364"><span class="linenos">364</span></a><span class="sd">        Hook method called after loading the model instance.</span>
</span><span id="DSLModel-365"><a href="#DSLModel-365"><span class="linenos">365</span></a><span class="sd">        Override this method to implement custom logic after loading.</span>
</span><span id="DSLModel-366"><a href="#DSLModel-366"><span class="linenos">366</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-367"><a href="#DSLModel-367"><span class="linenos">367</span></a>        <span class="k">pass</span>
</span><span id="DSLModel-368"><a href="#DSLModel-368"><span class="linenos">368</span></a>
</span><span id="DSLModel-369"><a href="#DSLModel-369"><span class="linenos">369</span></a>    <span class="k">def</span> <span class="nf">_pre_save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DSLModel-370"><a href="#DSLModel-370"><span class="linenos">370</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-371"><a href="#DSLModel-371"><span class="linenos">371</span></a><span class="sd">        Hook method called before saving the model instance.</span>
</span><span id="DSLModel-372"><a href="#DSLModel-372"><span class="linenos">372</span></a><span class="sd">        Override this method to implement custom logic before saving.</span>
</span><span id="DSLModel-373"><a href="#DSLModel-373"><span class="linenos">373</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-374"><a href="#DSLModel-374"><span class="linenos">374</span></a>        <span class="k">pass</span>
</span><span id="DSLModel-375"><a href="#DSLModel-375"><span class="linenos">375</span></a>
</span><span id="DSLModel-376"><a href="#DSLModel-376"><span class="linenos">376</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel-377"><a href="#DSLModel-377"><span class="linenos">377</span></a>    <span class="k">def</span> <span class="nf">from_prompt</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="DSLModel-378"><a href="#DSLModel-378"><span class="linenos">378</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel-379"><a href="#DSLModel-379"><span class="linenos">379</span></a><span class="sd">        Creates an instance of the Pydantic model from a user prompt.</span>
</span><span id="DSLModel-380"><a href="#DSLModel-380"><span class="linenos">380</span></a>
</span><span id="DSLModel-381"><a href="#DSLModel-381"><span class="linenos">381</span></a><span class="sd">        :param prompt: The user prompt.</span>
</span><span id="DSLModel-382"><a href="#DSLModel-382"><span class="linenos">382</span></a><span class="sd">        :return: An instance of the Pydantic model.</span>
</span><span id="DSLModel-383"><a href="#DSLModel-383"><span class="linenos">383</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel-384"><a href="#DSLModel-384"><span class="linenos">384</span></a>        <span class="k">return</span> <span class="n">gen_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>A base model class that provides serialization and deserialization capabilities
between Pydantic models and YAML and JSON formats. It facilitates saving model instances
to files and loading data from files into model objects.
Includes support for asynchronous file operations, versioning, enhanced context managers,
automatic documentation generation, and enhanced error handling.</p>

<p>Attributes:
    version (str): Version number of the model instance.</p>
</div>


                            <div id="DSLModel.version" class="classattr">
                                <div class="attr variable">
            <span class="name">version</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#DSLModel.version"></a>
    
            <div class="docstring"><p>Version number of the model instance.</p>
</div>


                            </div>
                            <div id="DSLModel.generate_filename" class="classattr">
                                        <input id="DSLModel.generate_filename-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">generate_filename</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">extension</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;yaml&#39;</span>, </span><span class="param"><span class="n">add_timestamp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="DSLModel.generate_filename-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.generate_filename"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.generate_filename-38"><a href="#DSLModel.generate_filename-38"><span class="linenos">38</span></a>    <span class="k">def</span> <span class="nf">generate_filename</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">extension</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DSLModel.generate_filename-39"><a href="#DSLModel.generate_filename-39"><span class="linenos">39</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates a safe filename based on the model&#39;s content.&quot;&quot;&quot;</span>
</span><span id="DSLModel.generate_filename-40"><a href="#DSLModel.generate_filename-40"><span class="linenos">40</span></a>        <span class="n">content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">()</span>
</span><span id="DSLModel.generate_filename-41"><a href="#DSLModel.generate_filename-41"><span class="linenos">41</span></a>
</span><span id="DSLModel.generate_filename-42"><a href="#DSLModel.generate_filename-42"><span class="linenos">42</span></a>        <span class="c1"># Generate the filename</span>
</span><span id="DSLModel.generate_filename-43"><a href="#DSLModel.generate_filename-43"><span class="linenos">43</span></a>        <span class="n">filename</span> <span class="o">=</span> <span class="n">file_name_call</span><span class="p">(</span><span class="n">file_content</span><span class="o">=</span><span class="n">content</span><span class="p">,</span> <span class="n">extension</span><span class="o">=</span><span class="n">extension</span><span class="p">)</span>
</span><span id="DSLModel.generate_filename-44"><a href="#DSLModel.generate_filename-44"><span class="linenos">44</span></a>        <span class="k">return</span> <span class="n">filename</span>
</span></pre></div>


            <div class="docstring"><p>Generates a safe filename based on the model's content.</p>
</div>


                            </div>
                            <div id="DSLModel.save" class="classattr">
                                        <input id="DSLModel.save-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">save</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;yaml&#39;</span>,</span><span class="param">	<span class="n">add_timestamp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="DSLModel.save-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.save"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.save-46"><a href="#DSLModel.save-46"><span class="linenos">46</span></a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DSLModel.save-47"><a href="#DSLModel.save-47"><span class="linenos">47</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.save-48"><a href="#DSLModel.save-48"><span class="linenos">48</span></a><span class="sd">        Saves the model to a file in the specified format. Automatically generates a filename if not provided.</span>
</span><span id="DSLModel.save-49"><a href="#DSLModel.save-49"><span class="linenos">49</span></a>
</span><span id="DSLModel.save-50"><a href="#DSLModel.save-50"><span class="linenos">50</span></a><span class="sd">        :param file_path: The path to the file. If None, generates a filename.</span>
</span><span id="DSLModel.save-51"><a href="#DSLModel.save-51"><span class="linenos">51</span></a><span class="sd">        :param file_format: The format to save the file in (&#39;yaml&#39; or &#39;json&#39;).</span>
</span><span id="DSLModel.save-52"><a href="#DSLModel.save-52"><span class="linenos">52</span></a><span class="sd">        :param add_timestamp: Whether to append a timestamp to the filename.</span>
</span><span id="DSLModel.save-53"><a href="#DSLModel.save-53"><span class="linenos">53</span></a>
</span><span id="DSLModel.save-54"><a href="#DSLModel.save-54"><span class="linenos">54</span></a><span class="sd">        :return: The path to the saved file.</span>
</span><span id="DSLModel.save-55"><a href="#DSLModel.save-55"><span class="linenos">55</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.save-56"><a href="#DSLModel.save-56"><span class="linenos">56</span></a>        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DSLModel.save-57"><a href="#DSLModel.save-57"><span class="linenos">57</span></a>            <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_filename</span><span class="p">(</span><span class="n">extension</span><span class="o">=</span><span class="n">file_format</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="o">=</span><span class="n">add_timestamp</span><span class="p">)</span>
</span><span id="DSLModel.save-58"><a href="#DSLModel.save-58"><span class="linenos">58</span></a>
</span><span id="DSLModel.save-59"><a href="#DSLModel.save-59"><span class="linenos">59</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="DSLModel.save-60"><a href="#DSLModel.save-60"><span class="linenos">60</span></a>        <span class="k">if</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="DSLModel.save-61"><a href="#DSLModel.save-61"><span class="linenos">61</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">to_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="DSLModel.save-62"><a href="#DSLModel.save-62"><span class="linenos">62</span></a>        <span class="k">elif</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
</span><span id="DSLModel.save-63"><a href="#DSLModel.save-63"><span class="linenos">63</span></a>            <span class="bp">self</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="DSLModel.save-64"><a href="#DSLModel.save-64"><span class="linenos">64</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel.save-65"><a href="#DSLModel.save-65"><span class="linenos">65</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported file format. Use &#39;yaml&#39; or &#39;json&#39;.&quot;</span><span class="p">)</span>
</span><span id="DSLModel.save-66"><a href="#DSLModel.save-66"><span class="linenos">66</span></a>
</span><span id="DSLModel.save-67"><a href="#DSLModel.save-67"><span class="linenos">67</span></a>        <span class="k">return</span> <span class="n">file_path</span>
</span></pre></div>


            <div class="docstring"><p>Saves the model to a file in the specified format. Automatically generates a filename if not provided.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>file_path</strong>:  The path to the file. If None, generates a filename.</li>
<li><strong>file_format</strong>:  The format to save the file in ('yaml' or 'json').</li>
<li><strong>add_timestamp</strong>:  Whether to append a timestamp to the filename.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The path to the saved file.</p>
</blockquote>
</div>


                            </div>
                            <div id="DSLModel.asave" class="classattr">
                                        <input id="DSLModel.asave-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">asave</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;yaml&#39;</span>,</span><span class="param">	<span class="n">add_timestamp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DSLModel.asave-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.asave"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.asave-69"><a href="#DSLModel.asave-69"><span class="linenos">69</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">asave</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
</span><span id="DSLModel.asave-70"><a href="#DSLModel.asave-70"><span class="linenos">70</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.asave-71"><a href="#DSLModel.asave-71"><span class="linenos">71</span></a><span class="sd">        Asynchronously saves the model to a file in the specified format. Automatically generates a filename if not provided.</span>
</span><span id="DSLModel.asave-72"><a href="#DSLModel.asave-72"><span class="linenos">72</span></a>
</span><span id="DSLModel.asave-73"><a href="#DSLModel.asave-73"><span class="linenos">73</span></a><span class="sd">        :param file_path: The path to the file. If None, generates a filename.</span>
</span><span id="DSLModel.asave-74"><a href="#DSLModel.asave-74"><span class="linenos">74</span></a><span class="sd">        :param file_format: The format to save the file in (&#39;yaml&#39; or &#39;json&#39;).</span>
</span><span id="DSLModel.asave-75"><a href="#DSLModel.asave-75"><span class="linenos">75</span></a><span class="sd">        :param add_timestamp: Whether to append a timestamp to the filename.</span>
</span><span id="DSLModel.asave-76"><a href="#DSLModel.asave-76"><span class="linenos">76</span></a>
</span><span id="DSLModel.asave-77"><a href="#DSLModel.asave-77"><span class="linenos">77</span></a><span class="sd">        :return: The path to the saved file.</span>
</span><span id="DSLModel.asave-78"><a href="#DSLModel.asave-78"><span class="linenos">78</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.asave-79"><a href="#DSLModel.asave-79"><span class="linenos">79</span></a>        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DSLModel.asave-80"><a href="#DSLModel.asave-80"><span class="linenos">80</span></a>            <span class="n">file_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_filename</span><span class="p">(</span><span class="n">extension</span><span class="o">=</span><span class="n">file_format</span><span class="p">,</span> <span class="n">add_timestamp</span><span class="o">=</span><span class="n">add_timestamp</span><span class="p">)</span>
</span><span id="DSLModel.asave-81"><a href="#DSLModel.asave-81"><span class="linenos">81</span></a>
</span><span id="DSLModel.asave-82"><a href="#DSLModel.asave-82"><span class="linenos">82</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="DSLModel.asave-83"><a href="#DSLModel.asave-83"><span class="linenos">83</span></a>        <span class="k">if</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="DSLModel.asave-84"><a href="#DSLModel.asave-84"><span class="linenos">84</span></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">ato_yaml</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="DSLModel.asave-85"><a href="#DSLModel.asave-85"><span class="linenos">85</span></a>        <span class="k">elif</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
</span><span id="DSLModel.asave-86"><a href="#DSLModel.asave-86"><span class="linenos">86</span></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">ato_json</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
</span><span id="DSLModel.asave-87"><a href="#DSLModel.asave-87"><span class="linenos">87</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel.asave-88"><a href="#DSLModel.asave-88"><span class="linenos">88</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported file format. Use &#39;yaml&#39; or &#39;json&#39;.&quot;</span><span class="p">)</span>
</span><span id="DSLModel.asave-89"><a href="#DSLModel.asave-89"><span class="linenos">89</span></a>
</span><span id="DSLModel.asave-90"><a href="#DSLModel.asave-90"><span class="linenos">90</span></a>        <span class="k">return</span> <span class="n">file_path</span>
</span></pre></div>


            <div class="docstring"><p>Asynchronously saves the model to a file in the specified format. Automatically generates a filename if not provided.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>file_path</strong>:  The path to the file. If None, generates a filename.</li>
<li><strong>file_format</strong>:  The format to save the file in ('yaml' or 'json').</li>
<li><strong>add_timestamp</strong>:  Whether to append a timestamp to the filename.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The path to the saved file.</p>
</blockquote>
</div>


                            </div>
                            <div id="DSLModel.upgrade" class="classattr">
                                        <input id="DSLModel.upgrade-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">upgrade</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DSLModel.upgrade-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.upgrade"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.upgrade-92"><a href="#DSLModel.upgrade-92"><span class="linenos">92</span></a>    <span class="k">def</span> <span class="nf">upgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="DSLModel.upgrade-93"><a href="#DSLModel.upgrade-93"><span class="linenos">93</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.upgrade-94"><a href="#DSLModel.upgrade-94"><span class="linenos">94</span></a><span class="sd">        Placeholder method for upgrading the model instance to a new version.</span>
</span><span id="DSLModel.upgrade-95"><a href="#DSLModel.upgrade-95"><span class="linenos">95</span></a><span class="sd">        Implement version-specific upgrade logic here.</span>
</span><span id="DSLModel.upgrade-96"><a href="#DSLModel.upgrade-96"><span class="linenos">96</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.upgrade-97"><a href="#DSLModel.upgrade-97"><span class="linenos">97</span></a>        <span class="k">pass</span>
</span></pre></div>


            <div class="docstring"><p>Placeholder method for upgrading the model instance to a new version.
Implement version-specific upgrade logic here.</p>
</div>


                            </div>
                            <div id="DSLModel.to_yaml" class="classattr">
                                        <input id="DSLModel.to_yaml-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_yaml</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="DSLModel.to_yaml-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.to_yaml"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.to_yaml-99"><a href="#DSLModel.to_yaml-99"><span class="linenos"> 99</span></a>    <span class="k">def</span> <span class="nf">to_yaml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DSLModel.to_yaml-100"><a href="#DSLModel.to_yaml-100"><span class="linenos">100</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.to_yaml-101"><a href="#DSLModel.to_yaml-101"><span class="linenos">101</span></a><span class="sd">        Serializes the Pydantic model instance into a YAML string and optionally writes it to a file.</span>
</span><span id="DSLModel.to_yaml-102"><a href="#DSLModel.to_yaml-102"><span class="linenos">102</span></a>
</span><span id="DSLModel.to_yaml-103"><a href="#DSLModel.to_yaml-103"><span class="linenos">103</span></a><span class="sd">        :param file_path: The file path to write the YAML content to.</span>
</span><span id="DSLModel.to_yaml-104"><a href="#DSLModel.to_yaml-104"><span class="linenos">104</span></a><span class="sd">                          If None, only the YAML string is returned.</span>
</span><span id="DSLModel.to_yaml-105"><a href="#DSLModel.to_yaml-105"><span class="linenos">105</span></a><span class="sd">        :return: The YAML representation of the model.</span>
</span><span id="DSLModel.to_yaml-106"><a href="#DSLModel.to_yaml-106"><span class="linenos">106</span></a><span class="sd">        :raises IOError: If serialization to YAML fails.</span>
</span><span id="DSLModel.to_yaml-107"><a href="#DSLModel.to_yaml-107"><span class="linenos">107</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.to_yaml-108"><a href="#DSLModel.to_yaml-108"><span class="linenos">108</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel.to_yaml-109"><a href="#DSLModel.to_yaml-109"><span class="linenos">109</span></a>            <span class="n">yaml_content</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
</span><span id="DSLModel.to_yaml-110"><a href="#DSLModel.to_yaml-110"><span class="linenos">110</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
</span><span id="DSLModel.to_yaml-111"><a href="#DSLModel.to_yaml-111"><span class="linenos">111</span></a>                <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="DSLModel.to_yaml-112"><a href="#DSLModel.to_yaml-112"><span class="linenos">112</span></a>                <span class="n">width</span><span class="o">=</span><span class="mi">1000</span>
</span><span id="DSLModel.to_yaml-113"><a href="#DSLModel.to_yaml-113"><span class="linenos">113</span></a>            <span class="p">)</span>
</span><span id="DSLModel.to_yaml-114"><a href="#DSLModel.to_yaml-114"><span class="linenos">114</span></a>            <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="DSLModel.to_yaml-115"><a href="#DSLModel.to_yaml-115"><span class="linenos">115</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="DSLModel.to_yaml-116"><a href="#DSLModel.to_yaml-116"><span class="linenos">116</span></a>                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
</span><span id="DSLModel.to_yaml-117"><a href="#DSLModel.to_yaml-117"><span class="linenos">117</span></a>                    <span class="n">yaml_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">yaml_content</span><span class="p">)</span>
</span><span id="DSLModel.to_yaml-118"><a href="#DSLModel.to_yaml-118"><span class="linenos">118</span></a>            <span class="k">return</span> <span class="n">yaml_content</span>
</span><span id="DSLModel.to_yaml-119"><a href="#DSLModel.to_yaml-119"><span class="linenos">119</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel.to_yaml-120"><a href="#DSLModel.to_yaml-120"><span class="linenos">120</span></a>            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to serialize model to YAML: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Serializes the Pydantic model instance into a YAML string and optionally writes it to a file.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>file_path</strong>:  The file path to write the YAML content to.
If None, only the YAML string is returned.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The YAML representation of the model.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>IOError</strong>:  If serialization to YAML fails.</li>
</ul>
</div>


                            </div>
                            <div id="DSLModel.from_yaml" class="classattr">
                                        <input id="DSLModel.from_yaml-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_yaml</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="o">~</span><span class="n">T</span><span class="p">]</span>, </span><span class="param"><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">T</span>:</span></span>

                <label class="view-source-button" for="DSLModel.from_yaml-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.from_yaml"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.from_yaml-122"><a href="#DSLModel.from_yaml-122"><span class="linenos">122</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel.from_yaml-123"><a href="#DSLModel.from_yaml-123"><span class="linenos">123</span></a>    <span class="k">def</span> <span class="nf">from_yaml</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="DSLModel.from_yaml-124"><a href="#DSLModel.from_yaml-124"><span class="linenos">124</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.from_yaml-125"><a href="#DSLModel.from_yaml-125"><span class="linenos">125</span></a><span class="sd">        Reads YAML content from a file and creates an instance of the Pydantic model.</span>
</span><span id="DSLModel.from_yaml-126"><a href="#DSLModel.from_yaml-126"><span class="linenos">126</span></a>
</span><span id="DSLModel.from_yaml-127"><a href="#DSLModel.from_yaml-127"><span class="linenos">127</span></a><span class="sd">        :param file_path: The path to the YAML file.</span>
</span><span id="DSLModel.from_yaml-128"><a href="#DSLModel.from_yaml-128"><span class="linenos">128</span></a><span class="sd">        :return: An instance of the Pydantic model populated with data from the YAML file.</span>
</span><span id="DSLModel.from_yaml-129"><a href="#DSLModel.from_yaml-129"><span class="linenos">129</span></a><span class="sd">        :raises FileNotFoundError: If the YAML file is not found.</span>
</span><span id="DSLModel.from_yaml-130"><a href="#DSLModel.from_yaml-130"><span class="linenos">130</span></a><span class="sd">        :raises ValueError: If there is a parsing or validation error.</span>
</span><span id="DSLModel.from_yaml-131"><a href="#DSLModel.from_yaml-131"><span class="linenos">131</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.from_yaml-132"><a href="#DSLModel.from_yaml-132"><span class="linenos">132</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel.from_yaml-133"><a href="#DSLModel.from_yaml-133"><span class="linenos">133</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
</span><span id="DSLModel.from_yaml-134"><a href="#DSLModel.from_yaml-134"><span class="linenos">134</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">yaml_file</span><span class="p">)</span>
</span><span id="DSLModel.from_yaml-135"><a href="#DSLModel.from_yaml-135"><span class="linenos">135</span></a>            <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="DSLModel.from_yaml-136"><a href="#DSLModel.from_yaml-136"><span class="linenos">136</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="DSLModel.from_yaml-137"><a href="#DSLModel.from_yaml-137"><span class="linenos">137</span></a>            <span class="k">return</span> <span class="n">instance</span>
</span><span id="DSLModel.from_yaml-138"><a href="#DSLModel.from_yaml-138"><span class="linenos">138</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="DSLModel.from_yaml-139"><a href="#DSLModel.from_yaml-139"><span class="linenos">139</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;YAML file not found at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel.from_yaml-140"><a href="#DSLModel.from_yaml-140"><span class="linenos">140</span></a>        <span class="k">except</span> <span class="n">yaml</span><span class="o">.</span><span class="n">YAMLError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel.from_yaml-141"><a href="#DSLModel.from_yaml-141"><span class="linenos">141</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing YAML file at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel.from_yaml-142"><a href="#DSLModel.from_yaml-142"><span class="linenos">142</span></a>        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
</span><span id="DSLModel.from_yaml-143"><a href="#DSLModel.from_yaml-143"><span class="linenos">143</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error while creating </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance: </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Reads YAML content from a file and creates an instance of the Pydantic model.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>file_path</strong>:  The path to the YAML file.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An instance of the Pydantic model populated with data from the YAML file.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>FileNotFoundError</strong>:  If the YAML file is not found.</li>
<li><strong>ValueError</strong>:  If there is a parsing or validation error.</li>
</ul>
</div>


                            </div>
                            <div id="DSLModel.ato_yaml" class="classattr">
                                        <input id="DSLModel.ato_yaml-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">ato_yaml</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="DSLModel.ato_yaml-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.ato_yaml"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.ato_yaml-145"><a href="#DSLModel.ato_yaml-145"><span class="linenos">145</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">ato_yaml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DSLModel.ato_yaml-146"><a href="#DSLModel.ato_yaml-146"><span class="linenos">146</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.ato_yaml-147"><a href="#DSLModel.ato_yaml-147"><span class="linenos">147</span></a><span class="sd">        Asynchronously serializes the Pydantic model to YAML and writes to a file.</span>
</span><span id="DSLModel.ato_yaml-148"><a href="#DSLModel.ato_yaml-148"><span class="linenos">148</span></a>
</span><span id="DSLModel.ato_yaml-149"><a href="#DSLModel.ato_yaml-149"><span class="linenos">149</span></a><span class="sd">        :param file_path: The file path to write the YAML content.</span>
</span><span id="DSLModel.ato_yaml-150"><a href="#DSLModel.ato_yaml-150"><span class="linenos">150</span></a><span class="sd">                          If None, returns YAML string.</span>
</span><span id="DSLModel.ato_yaml-151"><a href="#DSLModel.ato_yaml-151"><span class="linenos">151</span></a><span class="sd">        :return: The YAML content as a string.</span>
</span><span id="DSLModel.ato_yaml-152"><a href="#DSLModel.ato_yaml-152"><span class="linenos">152</span></a><span class="sd">        :raises IOError: If serialization to YAML asynchronously fails.</span>
</span><span id="DSLModel.ato_yaml-153"><a href="#DSLModel.ato_yaml-153"><span class="linenos">153</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.ato_yaml-154"><a href="#DSLModel.ato_yaml-154"><span class="linenos">154</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel.ato_yaml-155"><a href="#DSLModel.ato_yaml-155"><span class="linenos">155</span></a>            <span class="n">yaml_content</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span>
</span><span id="DSLModel.ato_yaml-156"><a href="#DSLModel.ato_yaml-156"><span class="linenos">156</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">model_dump</span><span class="p">(),</span>
</span><span id="DSLModel.ato_yaml-157"><a href="#DSLModel.ato_yaml-157"><span class="linenos">157</span></a>                <span class="n">default_flow_style</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span><span id="DSLModel.ato_yaml-158"><a href="#DSLModel.ato_yaml-158"><span class="linenos">158</span></a>                <span class="n">width</span><span class="o">=</span><span class="mi">1000</span>
</span><span id="DSLModel.ato_yaml-159"><a href="#DSLModel.ato_yaml-159"><span class="linenos">159</span></a>            <span class="p">)</span>
</span><span id="DSLModel.ato_yaml-160"><a href="#DSLModel.ato_yaml-160"><span class="linenos">160</span></a>            <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="DSLModel.ato_yaml-161"><a href="#DSLModel.ato_yaml-161"><span class="linenos">161</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="DSLModel.ato_yaml-162"><a href="#DSLModel.ato_yaml-162"><span class="linenos">162</span></a>                <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
</span><span id="DSLModel.ato_yaml-163"><a href="#DSLModel.ato_yaml-163"><span class="linenos">163</span></a>                    <span class="k">await</span> <span class="n">yaml_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">yaml_content</span><span class="p">)</span>
</span><span id="DSLModel.ato_yaml-164"><a href="#DSLModel.ato_yaml-164"><span class="linenos">164</span></a>            <span class="k">return</span> <span class="n">yaml_content</span>
</span><span id="DSLModel.ato_yaml-165"><a href="#DSLModel.ato_yaml-165"><span class="linenos">165</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel.ato_yaml-166"><a href="#DSLModel.ato_yaml-166"><span class="linenos">166</span></a>            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to serialize model to YAML asynchronously: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Asynchronously serializes the Pydantic model to YAML and writes to a file.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>file_path</strong>:  The file path to write the YAML content.
If None, returns YAML string.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The YAML content as a string.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>IOError</strong>:  If serialization to YAML asynchronously fails.</li>
</ul>
</div>


                            </div>
                            <div id="DSLModel.afrom_yaml" class="classattr">
                                        <input id="DSLModel.afrom_yaml-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">async def</span>
        <span class="name">afrom_yaml</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="o">~</span><span class="n">T</span><span class="p">]</span>, </span><span class="param"><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">T</span>:</span></span>

                <label class="view-source-button" for="DSLModel.afrom_yaml-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.afrom_yaml"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.afrom_yaml-168"><a href="#DSLModel.afrom_yaml-168"><span class="linenos">168</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel.afrom_yaml-169"><a href="#DSLModel.afrom_yaml-169"><span class="linenos">169</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">afrom_yaml</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="DSLModel.afrom_yaml-170"><a href="#DSLModel.afrom_yaml-170"><span class="linenos">170</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.afrom_yaml-171"><a href="#DSLModel.afrom_yaml-171"><span class="linenos">171</span></a><span class="sd">        Asynchronously reads YAML content from a file and constructs an instance of the Pydantic model.</span>
</span><span id="DSLModel.afrom_yaml-172"><a href="#DSLModel.afrom_yaml-172"><span class="linenos">172</span></a>
</span><span id="DSLModel.afrom_yaml-173"><a href="#DSLModel.afrom_yaml-173"><span class="linenos">173</span></a><span class="sd">        :param file_path: The file path from which to read the YAML content.</span>
</span><span id="DSLModel.afrom_yaml-174"><a href="#DSLModel.afrom_yaml-174"><span class="linenos">174</span></a><span class="sd">        :return: An instance of the Pydantic model.</span>
</span><span id="DSLModel.afrom_yaml-175"><a href="#DSLModel.afrom_yaml-175"><span class="linenos">175</span></a><span class="sd">        :raises FileNotFoundError: If the YAML file is not found.</span>
</span><span id="DSLModel.afrom_yaml-176"><a href="#DSLModel.afrom_yaml-176"><span class="linenos">176</span></a><span class="sd">        :raises ValueError: If there is a parsing or validation error.</span>
</span><span id="DSLModel.afrom_yaml-177"><a href="#DSLModel.afrom_yaml-177"><span class="linenos">177</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.afrom_yaml-178"><a href="#DSLModel.afrom_yaml-178"><span class="linenos">178</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel.afrom_yaml-179"><a href="#DSLModel.afrom_yaml-179"><span class="linenos">179</span></a>            <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">yaml_file</span><span class="p">:</span>
</span><span id="DSLModel.afrom_yaml-180"><a href="#DSLModel.afrom_yaml-180"><span class="linenos">180</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="k">await</span> <span class="n">yaml_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span><span id="DSLModel.afrom_yaml-181"><a href="#DSLModel.afrom_yaml-181"><span class="linenos">181</span></a>            <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="DSLModel.afrom_yaml-182"><a href="#DSLModel.afrom_yaml-182"><span class="linenos">182</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="DSLModel.afrom_yaml-183"><a href="#DSLModel.afrom_yaml-183"><span class="linenos">183</span></a>            <span class="k">return</span> <span class="n">instance</span>
</span><span id="DSLModel.afrom_yaml-184"><a href="#DSLModel.afrom_yaml-184"><span class="linenos">184</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="DSLModel.afrom_yaml-185"><a href="#DSLModel.afrom_yaml-185"><span class="linenos">185</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;YAML file not found at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel.afrom_yaml-186"><a href="#DSLModel.afrom_yaml-186"><span class="linenos">186</span></a>        <span class="k">except</span> <span class="n">yaml</span><span class="o">.</span><span class="n">YAMLError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel.afrom_yaml-187"><a href="#DSLModel.afrom_yaml-187"><span class="linenos">187</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing YAML file at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel.afrom_yaml-188"><a href="#DSLModel.afrom_yaml-188"><span class="linenos">188</span></a>        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
</span><span id="DSLModel.afrom_yaml-189"><a href="#DSLModel.afrom_yaml-189"><span class="linenos">189</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error while creating </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance: </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Asynchronously reads YAML content from a file and constructs an instance of the Pydantic model.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>file_path</strong>:  The file path from which to read the YAML content.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An instance of the Pydantic model.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>FileNotFoundError</strong>:  If the YAML file is not found.</li>
<li><strong>ValueError</strong>:  If there is a parsing or validation error.</li>
</ul>
</div>


                            </div>
                            <div id="DSLModel.to_json" class="classattr">
                                        <input id="DSLModel.to_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">to_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="DSLModel.to_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.to_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.to_json-191"><a href="#DSLModel.to_json-191"><span class="linenos">191</span></a>    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DSLModel.to_json-192"><a href="#DSLModel.to_json-192"><span class="linenos">192</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.to_json-193"><a href="#DSLModel.to_json-193"><span class="linenos">193</span></a><span class="sd">        Serializes the Pydantic model instance into a JSON string and optionally writes it to a file.</span>
</span><span id="DSLModel.to_json-194"><a href="#DSLModel.to_json-194"><span class="linenos">194</span></a>
</span><span id="DSLModel.to_json-195"><a href="#DSLModel.to_json-195"><span class="linenos">195</span></a><span class="sd">        :param file_path: The file path to write the JSON content to.</span>
</span><span id="DSLModel.to_json-196"><a href="#DSLModel.to_json-196"><span class="linenos">196</span></a><span class="sd">                          If None, only the JSON string is returned.</span>
</span><span id="DSLModel.to_json-197"><a href="#DSLModel.to_json-197"><span class="linenos">197</span></a><span class="sd">        :param kwargs: Additional keyword arguments to pass to json.dumps.</span>
</span><span id="DSLModel.to_json-198"><a href="#DSLModel.to_json-198"><span class="linenos">198</span></a><span class="sd">        :return: The JSON representation of the model.</span>
</span><span id="DSLModel.to_json-199"><a href="#DSLModel.to_json-199"><span class="linenos">199</span></a><span class="sd">        :raises IOError: If serialization to JSON fails.</span>
</span><span id="DSLModel.to_json-200"><a href="#DSLModel.to_json-200"><span class="linenos">200</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.to_json-201"><a href="#DSLModel.to_json-201"><span class="linenos">201</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel.to_json-202"><a href="#DSLModel.to_json-202"><span class="linenos">202</span></a>            <span class="n">json_content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DSLModel.to_json-203"><a href="#DSLModel.to_json-203"><span class="linenos">203</span></a>            <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="DSLModel.to_json-204"><a href="#DSLModel.to_json-204"><span class="linenos">204</span></a>                <span class="bp">self</span><span class="o">.</span><span class="n">_pre_save</span><span class="p">()</span>
</span><span id="DSLModel.to_json-205"><a href="#DSLModel.to_json-205"><span class="linenos">205</span></a>                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="DSLModel.to_json-206"><a href="#DSLModel.to_json-206"><span class="linenos">206</span></a>                    <span class="n">json_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json_content</span><span class="p">)</span>
</span><span id="DSLModel.to_json-207"><a href="#DSLModel.to_json-207"><span class="linenos">207</span></a>            <span class="k">return</span> <span class="n">json_content</span>
</span><span id="DSLModel.to_json-208"><a href="#DSLModel.to_json-208"><span class="linenos">208</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel.to_json-209"><a href="#DSLModel.to_json-209"><span class="linenos">209</span></a>            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to serialize model to JSON: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Serializes the Pydantic model instance into a JSON string and optionally writes it to a file.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>file_path</strong>:  The file path to write the JSON content to.
If None, only the JSON string is returned.</li>
<li><strong>kwargs</strong>:  Additional keyword arguments to pass to json.dumps.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The JSON representation of the model.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>IOError</strong>:  If serialization to JSON fails.</li>
</ul>
</div>


                            </div>
                            <div id="DSLModel.from_json" class="classattr">
                                        <input id="DSLModel.from_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="o">~</span><span class="n">T</span><span class="p">]</span>, </span><span class="param"><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">T</span>:</span></span>

                <label class="view-source-button" for="DSLModel.from_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.from_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.from_json-211"><a href="#DSLModel.from_json-211"><span class="linenos">211</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel.from_json-212"><a href="#DSLModel.from_json-212"><span class="linenos">212</span></a>    <span class="k">def</span> <span class="nf">from_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="DSLModel.from_json-213"><a href="#DSLModel.from_json-213"><span class="linenos">213</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.from_json-214"><a href="#DSLModel.from_json-214"><span class="linenos">214</span></a><span class="sd">        Reads JSON content from a file and creates an instance of the Pydantic model.</span>
</span><span id="DSLModel.from_json-215"><a href="#DSLModel.from_json-215"><span class="linenos">215</span></a>
</span><span id="DSLModel.from_json-216"><a href="#DSLModel.from_json-216"><span class="linenos">216</span></a><span class="sd">        :param file_path: The path to the JSON file.</span>
</span><span id="DSLModel.from_json-217"><a href="#DSLModel.from_json-217"><span class="linenos">217</span></a><span class="sd">        :return: An instance of the Pydantic model populated with data from the JSON file.</span>
</span><span id="DSLModel.from_json-218"><a href="#DSLModel.from_json-218"><span class="linenos">218</span></a><span class="sd">        :raises FileNotFoundError: If the JSON file is not found.</span>
</span><span id="DSLModel.from_json-219"><a href="#DSLModel.from_json-219"><span class="linenos">219</span></a><span class="sd">        :raises ValueError: If there is a parsing or validation error.</span>
</span><span id="DSLModel.from_json-220"><a href="#DSLModel.from_json-220"><span class="linenos">220</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.from_json-221"><a href="#DSLModel.from_json-221"><span class="linenos">221</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel.from_json-222"><a href="#DSLModel.from_json-222"><span class="linenos">222</span></a>            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="DSLModel.from_json-223"><a href="#DSLModel.from_json-223"><span class="linenos">223</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_file</span><span class="p">)</span>
</span><span id="DSLModel.from_json-224"><a href="#DSLModel.from_json-224"><span class="linenos">224</span></a>            <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="DSLModel.from_json-225"><a href="#DSLModel.from_json-225"><span class="linenos">225</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="DSLModel.from_json-226"><a href="#DSLModel.from_json-226"><span class="linenos">226</span></a>            <span class="k">return</span> <span class="n">instance</span>
</span><span id="DSLModel.from_json-227"><a href="#DSLModel.from_json-227"><span class="linenos">227</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="DSLModel.from_json-228"><a href="#DSLModel.from_json-228"><span class="linenos">228</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JSON file not found at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel.from_json-229"><a href="#DSLModel.from_json-229"><span class="linenos">229</span></a>        <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel.from_json-230"><a href="#DSLModel.from_json-230"><span class="linenos">230</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing JSON file at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel.from_json-231"><a href="#DSLModel.from_json-231"><span class="linenos">231</span></a>        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
</span><span id="DSLModel.from_json-232"><a href="#DSLModel.from_json-232"><span class="linenos">232</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error while creating </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance: </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Reads JSON content from a file and creates an instance of the Pydantic model.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>file_path</strong>:  The path to the JSON file.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An instance of the Pydantic model populated with data from the JSON file.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>FileNotFoundError</strong>:  If the JSON file is not found.</li>
<li><strong>ValueError</strong>:  If there is a parsing or validation error.</li>
</ul>
</div>


                            </div>
                            <div id="DSLModel.io_context" class="classattr">
                                        <input id="DSLModel.io_context-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>
        <div class="decorator">@contextmanager</div>

        <span class="def">def</span>
        <span class="name">io_context</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="o">~</span><span class="n">T</span><span class="p">]</span>,</span><span class="param">	<span class="n">model_defaults</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;yaml&#39;</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DSLModel.io_context-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.io_context"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.io_context-234"><a href="#DSLModel.io_context-234"><span class="linenos">234</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel.io_context-235"><a href="#DSLModel.io_context-235"><span class="linenos">235</span></a>    <span class="nd">@contextmanager</span>
</span><span id="DSLModel.io_context-236"><a href="#DSLModel.io_context-236"><span class="linenos">236</span></a>    <span class="k">def</span> <span class="nf">io_context</span><span class="p">(</span>
</span><span id="DSLModel.io_context-237"><a href="#DSLModel.io_context-237"><span class="linenos">237</span></a>        <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span>
</span><span id="DSLModel.io_context-238"><a href="#DSLModel.io_context-238"><span class="linenos">238</span></a>        <span class="n">model_defaults</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DSLModel.io_context-239"><a href="#DSLModel.io_context-239"><span class="linenos">239</span></a>        <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DSLModel.io_context-240"><a href="#DSLModel.io_context-240"><span class="linenos">240</span></a>        <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span>
</span><span id="DSLModel.io_context-241"><a href="#DSLModel.io_context-241"><span class="linenos">241</span></a>    <span class="p">):</span>
</span><span id="DSLModel.io_context-242"><a href="#DSLModel.io_context-242"><span class="linenos">242</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.io_context-243"><a href="#DSLModel.io_context-243"><span class="linenos">243</span></a><span class="sd">        Context manager for convenient loading and saving of Pydantic models to/from YAML or JSON files.</span>
</span><span id="DSLModel.io_context-244"><a href="#DSLModel.io_context-244"><span class="linenos">244</span></a>
</span><span id="DSLModel.io_context-245"><a href="#DSLModel.io_context-245"><span class="linenos">245</span></a><span class="sd">        :param model_defaults: Default values to use if the file doesn&#39;t exist.</span>
</span><span id="DSLModel.io_context-246"><a href="#DSLModel.io_context-246"><span class="linenos">246</span></a><span class="sd">        :param file_path: Path to the file. If None, uses the class name as the filename.</span>
</span><span id="DSLModel.io_context-247"><a href="#DSLModel.io_context-247"><span class="linenos">247</span></a><span class="sd">        :param file_format: The format of the file (&#39;yaml&#39; or &#39;json&#39;).</span>
</span><span id="DSLModel.io_context-248"><a href="#DSLModel.io_context-248"><span class="linenos">248</span></a><span class="sd">        :raises ValueError: If an unsupported file format is provided.</span>
</span><span id="DSLModel.io_context-249"><a href="#DSLModel.io_context-249"><span class="linenos">249</span></a><span class="sd">        :raises RuntimeError: If an error occurs during the context manager operation.</span>
</span><span id="DSLModel.io_context-250"><a href="#DSLModel.io_context-250"><span class="linenos">250</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.io_context-251"><a href="#DSLModel.io_context-251"><span class="linenos">251</span></a>        <span class="k">if</span> <span class="n">model_defaults</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DSLModel.io_context-252"><a href="#DSLModel.io_context-252"><span class="linenos">252</span></a>            <span class="n">model_defaults</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DSLModel.io_context-253"><a href="#DSLModel.io_context-253"><span class="linenos">253</span></a>
</span><span id="DSLModel.io_context-254"><a href="#DSLModel.io_context-254"><span class="linenos">254</span></a>        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DSLModel.io_context-255"><a href="#DSLModel.io_context-255"><span class="linenos">255</span></a>            <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="DSLModel.io_context-256"><a href="#DSLModel.io_context-256"><span class="linenos">256</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel.io_context-257"><a href="#DSLModel.io_context-257"><span class="linenos">257</span></a>            <span class="n">filename</span> <span class="o">=</span> <span class="n">file_path</span>
</span><span id="DSLModel.io_context-258"><a href="#DSLModel.io_context-258"><span class="linenos">258</span></a>
</span><span id="DSLModel.io_context-259"><a href="#DSLModel.io_context-259"><span class="linenos">259</span></a>        <span class="n">absolute_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="DSLModel.io_context-260"><a href="#DSLModel.io_context-260"><span class="linenos">260</span></a>
</span><span id="DSLModel.io_context-261"><a href="#DSLModel.io_context-261"><span class="linenos">261</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel.io_context-262"><a href="#DSLModel.io_context-262"><span class="linenos">262</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">):</span>
</span><span id="DSLModel.io_context-263"><a href="#DSLModel.io_context-263"><span class="linenos">263</span></a>                <span class="k">if</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="DSLModel.io_context-264"><a href="#DSLModel.io_context-264"><span class="linenos">264</span></a>                    <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_yaml</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
</span><span id="DSLModel.io_context-265"><a href="#DSLModel.io_context-265"><span class="linenos">265</span></a>                <span class="k">elif</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
</span><span id="DSLModel.io_context-266"><a href="#DSLModel.io_context-266"><span class="linenos">266</span></a>                    <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
</span><span id="DSLModel.io_context-267"><a href="#DSLModel.io_context-267"><span class="linenos">267</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel.io_context-268"><a href="#DSLModel.io_context-268"><span class="linenos">268</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported file format. Use &#39;yaml&#39; or &#39;json&#39;.&quot;</span><span class="p">)</span>
</span><span id="DSLModel.io_context-269"><a href="#DSLModel.io_context-269"><span class="linenos">269</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel.io_context-270"><a href="#DSLModel.io_context-270"><span class="linenos">270</span></a>                <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">model_defaults</span><span class="p">)</span>
</span><span id="DSLModel.io_context-271"><a href="#DSLModel.io_context-271"><span class="linenos">271</span></a>                <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="DSLModel.io_context-272"><a href="#DSLModel.io_context-272"><span class="linenos">272</span></a>            <span class="k">yield</span> <span class="n">instance</span>
</span><span id="DSLModel.io_context-273"><a href="#DSLModel.io_context-273"><span class="linenos">273</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">,</span> <span class="n">file_format</span><span class="p">)</span>
</span><span id="DSLModel.io_context-274"><a href="#DSLModel.io_context-274"><span class="linenos">274</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel.io_context-275"><a href="#DSLModel.io_context-275"><span class="linenos">275</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error in io_context: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Context manager for convenient loading and saving of Pydantic models to/from YAML or JSON files.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>model_defaults</strong>:  Default values to use if the file doesn't exist.</li>
<li><strong>file_path</strong>:  Path to the file. If None, uses the class name as the filename.</li>
<li><strong>file_format</strong>:  The format of the file ('yaml' or 'json').</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>:  If an unsupported file format is provided.</li>
<li><strong>RuntimeError</strong>:  If an error occurs during the context manager operation.</li>
</ul>
</div>


                            </div>
                            <div id="DSLModel.aio_context" class="classattr">
                                        <input id="DSLModel.aio_context-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>
        <div class="decorator">@asynccontextmanager</div>

        <span class="def">def</span>
        <span class="name">aio_context</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="o">~</span><span class="n">T</span><span class="p">]</span>,</span><span class="param">	<span class="n">model_defaults</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;yaml&#39;</span></span><span class="return-annotation">):</span></span>

                <label class="view-source-button" for="DSLModel.aio_context-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.aio_context"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.aio_context-277"><a href="#DSLModel.aio_context-277"><span class="linenos">277</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel.aio_context-278"><a href="#DSLModel.aio_context-278"><span class="linenos">278</span></a>    <span class="nd">@asynccontextmanager</span>
</span><span id="DSLModel.aio_context-279"><a href="#DSLModel.aio_context-279"><span class="linenos">279</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">aio_context</span><span class="p">(</span>
</span><span id="DSLModel.aio_context-280"><a href="#DSLModel.aio_context-280"><span class="linenos">280</span></a>        <span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span>
</span><span id="DSLModel.aio_context-281"><a href="#DSLModel.aio_context-281"><span class="linenos">281</span></a>        <span class="n">model_defaults</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DSLModel.aio_context-282"><a href="#DSLModel.aio_context-282"><span class="linenos">282</span></a>        <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="DSLModel.aio_context-283"><a href="#DSLModel.aio_context-283"><span class="linenos">283</span></a>        <span class="n">file_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;yaml&quot;</span>
</span><span id="DSLModel.aio_context-284"><a href="#DSLModel.aio_context-284"><span class="linenos">284</span></a>    <span class="p">):</span>
</span><span id="DSLModel.aio_context-285"><a href="#DSLModel.aio_context-285"><span class="linenos">285</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.aio_context-286"><a href="#DSLModel.aio_context-286"><span class="linenos">286</span></a><span class="sd">        Asynchronous context manager for convenient loading and saving of Pydantic models to/from YAML or JSON files.</span>
</span><span id="DSLModel.aio_context-287"><a href="#DSLModel.aio_context-287"><span class="linenos">287</span></a>
</span><span id="DSLModel.aio_context-288"><a href="#DSLModel.aio_context-288"><span class="linenos">288</span></a><span class="sd">        :param model_defaults: Default values to use if the file doesn&#39;t exist.</span>
</span><span id="DSLModel.aio_context-289"><a href="#DSLModel.aio_context-289"><span class="linenos">289</span></a><span class="sd">        :param file_path: Path to the file. If None, uses the class name as the filename.</span>
</span><span id="DSLModel.aio_context-290"><a href="#DSLModel.aio_context-290"><span class="linenos">290</span></a><span class="sd">        :param file_format: The format of the file (&#39;yaml&#39; or &#39;json&#39;).</span>
</span><span id="DSLModel.aio_context-291"><a href="#DSLModel.aio_context-291"><span class="linenos">291</span></a><span class="sd">        :raises ValueError: If an unsupported file format is provided.</span>
</span><span id="DSLModel.aio_context-292"><a href="#DSLModel.aio_context-292"><span class="linenos">292</span></a><span class="sd">        :raises RuntimeError: If an error occurs during the context manager operation.</span>
</span><span id="DSLModel.aio_context-293"><a href="#DSLModel.aio_context-293"><span class="linenos">293</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.aio_context-294"><a href="#DSLModel.aio_context-294"><span class="linenos">294</span></a>        <span class="k">if</span> <span class="n">model_defaults</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DSLModel.aio_context-295"><a href="#DSLModel.aio_context-295"><span class="linenos">295</span></a>            <span class="n">model_defaults</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="DSLModel.aio_context-296"><a href="#DSLModel.aio_context-296"><span class="linenos">296</span></a>
</span><span id="DSLModel.aio_context-297"><a href="#DSLModel.aio_context-297"><span class="linenos">297</span></a>        <span class="k">if</span> <span class="n">file_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="DSLModel.aio_context-298"><a href="#DSLModel.aio_context-298"><span class="linenos">298</span></a>            <span class="n">filename</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">file_format</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="DSLModel.aio_context-299"><a href="#DSLModel.aio_context-299"><span class="linenos">299</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel.aio_context-300"><a href="#DSLModel.aio_context-300"><span class="linenos">300</span></a>            <span class="n">filename</span> <span class="o">=</span> <span class="n">file_path</span>
</span><span id="DSLModel.aio_context-301"><a href="#DSLModel.aio_context-301"><span class="linenos">301</span></a>
</span><span id="DSLModel.aio_context-302"><a href="#DSLModel.aio_context-302"><span class="linenos">302</span></a>        <span class="n">absolute_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span><span id="DSLModel.aio_context-303"><a href="#DSLModel.aio_context-303"><span class="linenos">303</span></a>
</span><span id="DSLModel.aio_context-304"><a href="#DSLModel.aio_context-304"><span class="linenos">304</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel.aio_context-305"><a href="#DSLModel.aio_context-305"><span class="linenos">305</span></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">):</span>
</span><span id="DSLModel.aio_context-306"><a href="#DSLModel.aio_context-306"><span class="linenos">306</span></a>                <span class="k">if</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;yaml&quot;</span><span class="p">:</span>
</span><span id="DSLModel.aio_context-307"><a href="#DSLModel.aio_context-307"><span class="linenos">307</span></a>                    <span class="n">instance</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">cls</span><span class="o">.</span><span class="n">afrom_yaml</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
</span><span id="DSLModel.aio_context-308"><a href="#DSLModel.aio_context-308"><span class="linenos">308</span></a>                <span class="k">elif</span> <span class="n">file_format</span> <span class="o">==</span> <span class="s2">&quot;json&quot;</span><span class="p">:</span>
</span><span id="DSLModel.aio_context-309"><a href="#DSLModel.aio_context-309"><span class="linenos">309</span></a>                    <span class="n">instance</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">cls</span><span class="o">.</span><span class="n">afrom_json</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">)</span>
</span><span id="DSLModel.aio_context-310"><a href="#DSLModel.aio_context-310"><span class="linenos">310</span></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel.aio_context-311"><a href="#DSLModel.aio_context-311"><span class="linenos">311</span></a>                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Unsupported file format. Use &#39;yaml&#39; or &#39;json&#39;.&quot;</span><span class="p">)</span>
</span><span id="DSLModel.aio_context-312"><a href="#DSLModel.aio_context-312"><span class="linenos">312</span></a>            <span class="k">else</span><span class="p">:</span>
</span><span id="DSLModel.aio_context-313"><a href="#DSLModel.aio_context-313"><span class="linenos">313</span></a>                <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">**</span><span class="n">model_defaults</span><span class="p">)</span>
</span><span id="DSLModel.aio_context-314"><a href="#DSLModel.aio_context-314"><span class="linenos">314</span></a>                <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="DSLModel.aio_context-315"><a href="#DSLModel.aio_context-315"><span class="linenos">315</span></a>            <span class="k">yield</span> <span class="n">instance</span>
</span><span id="DSLModel.aio_context-316"><a href="#DSLModel.aio_context-316"><span class="linenos">316</span></a>            <span class="k">await</span> <span class="n">instance</span><span class="o">.</span><span class="n">asave</span><span class="p">(</span><span class="n">absolute_path</span><span class="p">,</span> <span class="n">file_format</span><span class="p">)</span>
</span><span id="DSLModel.aio_context-317"><a href="#DSLModel.aio_context-317"><span class="linenos">317</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel.aio_context-318"><a href="#DSLModel.aio_context-318"><span class="linenos">318</span></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error in aio_context: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Asynchronous context manager for convenient loading and saving of Pydantic models to/from YAML or JSON files.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>model_defaults</strong>:  Default values to use if the file doesn't exist.</li>
<li><strong>file_path</strong>:  Path to the file. If None, uses the class name as the filename.</li>
<li><strong>file_format</strong>:  The format of the file ('yaml' or 'json').</li>
</ul>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>ValueError</strong>:  If an unsupported file format is provided.</li>
<li><strong>RuntimeError</strong>:  If an error occurs during the context manager operation.</li>
</ul>
</div>


                            </div>
                            <div id="DSLModel.ato_json" class="classattr">
                                        <input id="DSLModel.ato_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">async def</span>
        <span class="name">ato_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>, </span><span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="DSLModel.ato_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.ato_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.ato_json-320"><a href="#DSLModel.ato_json-320"><span class="linenos">320</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">ato_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="DSLModel.ato_json-321"><a href="#DSLModel.ato_json-321"><span class="linenos">321</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.ato_json-322"><a href="#DSLModel.ato_json-322"><span class="linenos">322</span></a><span class="sd">        Asynchronously serializes the Pydantic model to JSON and writes to a file.</span>
</span><span id="DSLModel.ato_json-323"><a href="#DSLModel.ato_json-323"><span class="linenos">323</span></a>
</span><span id="DSLModel.ato_json-324"><a href="#DSLModel.ato_json-324"><span class="linenos">324</span></a><span class="sd">        :param file_path: The file path to write the JSON content.</span>
</span><span id="DSLModel.ato_json-325"><a href="#DSLModel.ato_json-325"><span class="linenos">325</span></a><span class="sd">                          If None, returns JSON string.</span>
</span><span id="DSLModel.ato_json-326"><a href="#DSLModel.ato_json-326"><span class="linenos">326</span></a><span class="sd">        :param kwargs: Additional keyword arguments to pass to json.dumps.</span>
</span><span id="DSLModel.ato_json-327"><a href="#DSLModel.ato_json-327"><span class="linenos">327</span></a><span class="sd">        :return: The JSON content as a string.</span>
</span><span id="DSLModel.ato_json-328"><a href="#DSLModel.ato_json-328"><span class="linenos">328</span></a><span class="sd">        :raises IOError: If serialization to JSON asynchronously fails.</span>
</span><span id="DSLModel.ato_json-329"><a href="#DSLModel.ato_json-329"><span class="linenos">329</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.ato_json-330"><a href="#DSLModel.ato_json-330"><span class="linenos">330</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel.ato_json-331"><a href="#DSLModel.ato_json-331"><span class="linenos">331</span></a>            <span class="n">json_content</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model_dump_json</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="DSLModel.ato_json-332"><a href="#DSLModel.ato_json-332"><span class="linenos">332</span></a>            <span class="k">if</span> <span class="n">file_path</span><span class="p">:</span>
</span><span id="DSLModel.ato_json-333"><a href="#DSLModel.ato_json-333"><span class="linenos">333</span></a>                <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="DSLModel.ato_json-334"><a href="#DSLModel.ato_json-334"><span class="linenos">334</span></a>                    <span class="k">await</span> <span class="n">json_file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">json_content</span><span class="p">)</span>
</span><span id="DSLModel.ato_json-335"><a href="#DSLModel.ato_json-335"><span class="linenos">335</span></a>            <span class="k">return</span> <span class="n">json_content</span>
</span><span id="DSLModel.ato_json-336"><a href="#DSLModel.ato_json-336"><span class="linenos">336</span></a>        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel.ato_json-337"><a href="#DSLModel.ato_json-337"><span class="linenos">337</span></a>            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Failed to serialize model to JSON asynchronously: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Asynchronously serializes the Pydantic model to JSON and writes to a file.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>file_path</strong>:  The file path to write the JSON content.
If None, returns JSON string.</li>
<li><strong>kwargs</strong>:  Additional keyword arguments to pass to json.dumps.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>The JSON content as a string.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>IOError</strong>:  If serialization to JSON asynchronously fails.</li>
</ul>
</div>


                            </div>
                            <div id="DSLModel.afrom_json" class="classattr">
                                        <input id="DSLModel.afrom_json-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">async def</span>
        <span class="name">afrom_json</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="o">~</span><span class="n">T</span><span class="p">]</span>, </span><span class="param"><span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">T</span>:</span></span>

                <label class="view-source-button" for="DSLModel.afrom_json-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.afrom_json"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.afrom_json-339"><a href="#DSLModel.afrom_json-339"><span class="linenos">339</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel.afrom_json-340"><a href="#DSLModel.afrom_json-340"><span class="linenos">340</span></a>    <span class="k">async</span> <span class="k">def</span> <span class="nf">afrom_json</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="DSLModel.afrom_json-341"><a href="#DSLModel.afrom_json-341"><span class="linenos">341</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.afrom_json-342"><a href="#DSLModel.afrom_json-342"><span class="linenos">342</span></a><span class="sd">        Asynchronously reads JSON content from a file and constructs an instance of the Pydantic model.</span>
</span><span id="DSLModel.afrom_json-343"><a href="#DSLModel.afrom_json-343"><span class="linenos">343</span></a>
</span><span id="DSLModel.afrom_json-344"><a href="#DSLModel.afrom_json-344"><span class="linenos">344</span></a><span class="sd">        :param file_path: The file path from which to read the JSON content.</span>
</span><span id="DSLModel.afrom_json-345"><a href="#DSLModel.afrom_json-345"><span class="linenos">345</span></a><span class="sd">        :return: An instance of the Pydantic model.</span>
</span><span id="DSLModel.afrom_json-346"><a href="#DSLModel.afrom_json-346"><span class="linenos">346</span></a><span class="sd">        :raises FileNotFoundError: If the JSON file is not found.</span>
</span><span id="DSLModel.afrom_json-347"><a href="#DSLModel.afrom_json-347"><span class="linenos">347</span></a><span class="sd">        :raises ValueError: If there is a parsing or validation error.</span>
</span><span id="DSLModel.afrom_json-348"><a href="#DSLModel.afrom_json-348"><span class="linenos">348</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.afrom_json-349"><a href="#DSLModel.afrom_json-349"><span class="linenos">349</span></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="DSLModel.afrom_json-350"><a href="#DSLModel.afrom_json-350"><span class="linenos">350</span></a>            <span class="k">async</span> <span class="k">with</span> <span class="n">aiofiles</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_file</span><span class="p">:</span>
</span><span id="DSLModel.afrom_json-351"><a href="#DSLModel.afrom_json-351"><span class="linenos">351</span></a>                <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="k">await</span> <span class="n">json_file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span><span id="DSLModel.afrom_json-352"><a href="#DSLModel.afrom_json-352"><span class="linenos">352</span></a>            <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">model_validate</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</span><span id="DSLModel.afrom_json-353"><a href="#DSLModel.afrom_json-353"><span class="linenos">353</span></a>            <span class="n">instance</span><span class="o">.</span><span class="n">_post_load</span><span class="p">()</span>
</span><span id="DSLModel.afrom_json-354"><a href="#DSLModel.afrom_json-354"><span class="linenos">354</span></a>            <span class="k">return</span> <span class="n">instance</span>
</span><span id="DSLModel.afrom_json-355"><a href="#DSLModel.afrom_json-355"><span class="linenos">355</span></a>        <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
</span><span id="DSLModel.afrom_json-356"><a href="#DSLModel.afrom_json-356"><span class="linenos">356</span></a>            <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;JSON file not found at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel.afrom_json-357"><a href="#DSLModel.afrom_json-357"><span class="linenos">357</span></a>        <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="DSLModel.afrom_json-358"><a href="#DSLModel.afrom_json-358"><span class="linenos">358</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error parsing JSON file at </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="DSLModel.afrom_json-359"><a href="#DSLModel.afrom_json-359"><span class="linenos">359</span></a>        <span class="k">except</span> <span class="n">ValidationError</span> <span class="k">as</span> <span class="n">ve</span><span class="p">:</span>
</span><span id="DSLModel.afrom_json-360"><a href="#DSLModel.afrom_json-360"><span class="linenos">360</span></a>            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Validation error while creating </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> instance: </span><span class="si">{</span><span class="n">ve</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Asynchronously reads JSON content from a file and constructs an instance of the Pydantic model.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>file_path</strong>:  The file path from which to read the JSON content.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An instance of the Pydantic model.</p>
</blockquote>

<h6 id="raises">Raises</h6>

<ul>
<li><strong>FileNotFoundError</strong>:  If the JSON file is not found.</li>
<li><strong>ValueError</strong>:  If there is a parsing or validation error.</li>
</ul>
</div>


                            </div>
                            <div id="DSLModel.from_prompt" class="classattr">
                                        <input id="DSLModel.from_prompt-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
                    <div class="decorator">@classmethod</div>

        <span class="def">def</span>
        <span class="name">from_prompt</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="o">~</span><span class="n">T</span><span class="p">]</span>, </span><span class="param"><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">) -> <span class="o">~</span><span class="n">T</span>:</span></span>

                <label class="view-source-button" for="DSLModel.from_prompt-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.from_prompt"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.from_prompt-376"><a href="#DSLModel.from_prompt-376"><span class="linenos">376</span></a>    <span class="nd">@classmethod</span>
</span><span id="DSLModel.from_prompt-377"><a href="#DSLModel.from_prompt-377"><span class="linenos">377</span></a>    <span class="k">def</span> <span class="nf">from_prompt</span><span class="p">(</span><span class="bp">cls</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">T</span><span class="p">],</span> <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">T</span><span class="p">:</span>
</span><span id="DSLModel.from_prompt-378"><a href="#DSLModel.from_prompt-378"><span class="linenos">378</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLModel.from_prompt-379"><a href="#DSLModel.from_prompt-379"><span class="linenos">379</span></a><span class="sd">        Creates an instance of the Pydantic model from a user prompt.</span>
</span><span id="DSLModel.from_prompt-380"><a href="#DSLModel.from_prompt-380"><span class="linenos">380</span></a>
</span><span id="DSLModel.from_prompt-381"><a href="#DSLModel.from_prompt-381"><span class="linenos">381</span></a><span class="sd">        :param prompt: The user prompt.</span>
</span><span id="DSLModel.from_prompt-382"><a href="#DSLModel.from_prompt-382"><span class="linenos">382</span></a><span class="sd">        :return: An instance of the Pydantic model.</span>
</span><span id="DSLModel.from_prompt-383"><a href="#DSLModel.from_prompt-383"><span class="linenos">383</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="DSLModel.from_prompt-384"><a href="#DSLModel.from_prompt-384"><span class="linenos">384</span></a>        <span class="k">return</span> <span class="n">gen_instance</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Creates an instance of the Pydantic model from a user prompt.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>prompt</strong>:  The user prompt.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>An instance of the Pydantic model.</p>
</blockquote>
</div>


                            </div>
                            <div id="DSLModel.model_config" class="classattr">
                                <div class="attr variable">
            <span class="name">model_config</span><span class="annotation">: ClassVar[pydantic.config.ConfigDict]</span>        =
<span class="default_value">{&#39;arbitrary_types_allowed&#39;: True, &#39;populate_by_name&#39;: True, &#39;validate_assignment&#39;: True}</span>

        
    </div>
    <a class="headerlink" href="#DSLModel.model_config"></a>
    
            <div class="docstring"><p>Configuration for the model, should be a dictionary conforming to [<code>ConfigDict</code>][pydantic.config.ConfigDict].</p>
</div>


                            </div>
                            <div id="DSLModel.model_fields" class="classattr">
                                <div class="attr variable">
            <span class="name">model_fields</span><span class="annotation">: ClassVar[Dict[str, pydantic.fields.FieldInfo]]</span>        =
<span class="default_value">{&#39;version&#39;: FieldInfo(annotation=str, required=False, default=&#39;1.0.0&#39;)}</span>

        
    </div>
    <a class="headerlink" href="#DSLModel.model_fields"></a>
    
            <div class="docstring"><p>Metadata about the fields defined on the model,
mapping of field names to [<code>FieldInfo</code>][pydantic.fields.FieldInfo] objects.</p>

<p>This replaces <code>Model.__fields__</code> from Pydantic V1.</p>
</div>


                            </div>
                            <div id="DSLModel.model_computed_fields" class="classattr">
                                <div class="attr variable">
            <span class="name">model_computed_fields</span><span class="annotation">: ClassVar[Dict[str, pydantic.fields.ComputedFieldInfo]]</span>        =
<span class="default_value">{}</span>

        
    </div>
    <a class="headerlink" href="#DSLModel.model_computed_fields"></a>
    
            <div class="docstring"><p>A dictionary of computed field names and their corresponding <code>ComputedFieldInfo</code> objects.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>pydantic.main.BaseModel</dt>
                                <dd id="DSLModel.__init__" class="function">BaseModel</dd>
                <dd id="DSLModel.model_extra" class="variable">model_extra</dd>
                <dd id="DSLModel.model_fields_set" class="variable">model_fields_set</dd>
                <dd id="DSLModel.model_construct" class="function">model_construct</dd>
                <dd id="DSLModel.model_copy" class="function">model_copy</dd>
                <dd id="DSLModel.model_dump" class="function">model_dump</dd>
                <dd id="DSLModel.model_dump_json" class="function">model_dump_json</dd>
                <dd id="DSLModel.model_json_schema" class="function">model_json_schema</dd>
                <dd id="DSLModel.model_parametrized_name" class="function">model_parametrized_name</dd>
                <dd id="DSLModel.model_post_init" class="function">model_post_init</dd>
                <dd id="DSLModel.model_rebuild" class="function">model_rebuild</dd>
                <dd id="DSLModel.model_validate" class="function">model_validate</dd>
                <dd id="DSLModel.model_validate_json" class="function">model_validate_json</dd>
                <dd id="DSLModel.model_validate_strings" class="function">model_validate_strings</dd>
                <dd id="DSLModel.dict" class="function">dict</dd>
                <dd id="DSLModel.json" class="function">json</dd>
                <dd id="DSLModel.parse_obj" class="function">parse_obj</dd>
                <dd id="DSLModel.parse_raw" class="function">parse_raw</dd>
                <dd id="DSLModel.parse_file" class="function">parse_file</dd>
                <dd id="DSLModel.from_orm" class="function">from_orm</dd>
                <dd id="DSLModel.construct" class="function">construct</dd>
                <dd id="DSLModel.copy" class="function">copy</dd>
                <dd id="DSLModel.schema" class="function">schema</dd>
                <dd id="DSLModel.schema_json" class="function">schema_json</dd>
                <dd id="DSLModel.validate" class="function">validate</dd>
                <dd id="DSLModel.update_forward_refs" class="function">update_forward_refs</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="DSLModel.Config">
                            <input id="DSLModel.Config-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DSLModel.Config</span>:

                <label class="view-source-button" for="DSLModel.Config-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLModel.Config"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLModel.Config-33"><a href="#DSLModel.Config-33"><span class="linenos">33</span></a>    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
</span><span id="DSLModel.Config-34"><a href="#DSLModel.Config-34"><span class="linenos">34</span></a>        <span class="n">arbitrary_types_allowed</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="DSLModel.Config-35"><a href="#DSLModel.Config-35"><span class="linenos">35</span></a>        <span class="n">validate_assignment</span> <span class="o">=</span> <span class="kc">True</span>
</span><span id="DSLModel.Config-36"><a href="#DSLModel.Config-36"><span class="linenos">36</span></a>        <span class="n">populate_by_name</span> <span class="o">=</span> <span class="kc">True</span>
</span></pre></div>


    

                            <div id="DSLModel.Config.arbitrary_types_allowed" class="classattr">
                                <div class="attr variable">
            <span class="name">arbitrary_types_allowed</span>        =
<span class="default_value">True</span>

        
    </div>
    <a class="headerlink" href="#DSLModel.Config.arbitrary_types_allowed"></a>
    
    

                            </div>
                            <div id="DSLModel.Config.validate_assignment" class="classattr">
                                <div class="attr variable">
            <span class="name">validate_assignment</span>        =
<span class="default_value">True</span>

        
    </div>
    <a class="headerlink" href="#DSLModel.Config.validate_assignment"></a>
    
    

                            </div>
                            <div id="DSLModel.Config.populate_by_name" class="classattr">
                                <div class="attr variable">
            <span class="name">populate_by_name</span>        =
<span class="default_value">True</span>

        
    </div>
    <a class="headerlink" href="#DSLModel.Config.populate_by_name"></a>
    
    

                            </div>
                </section>
                <section id="DSLTask">
                            <input id="DSLTask-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">DSLTask</span><wbr>(<span class="base"><a href="#DSLModel">DSLModel</a></span>):

                <label class="view-source-button" for="DSLTask-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#DSLTask"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="DSLTask-387"><a href="#DSLTask-387"><span class="linenos">387</span></a><span class="k">class</span> <span class="nc">DSLTask</span><span class="p">(</span><span class="n">DSLModel</span><span class="p">):</span>
</span><span id="DSLTask-388"><a href="#DSLTask-388"><span class="linenos">388</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="DSLTask-389"><a href="#DSLTask-389"><span class="linenos">389</span></a><span class="sd">    Represents a single DSL task.</span>
</span><span id="DSLTask-390"><a href="#DSLTask-390"><span class="linenos">390</span></a>
</span><span id="DSLTask-391"><a href="#DSLTask-391"><span class="linenos">391</span></a><span class="sd">    Attributes:</span>
</span><span id="DSLTask-392"><a href="#DSLTask-392"><span class="linenos">392</span></a><span class="sd">        prompt (str): The input prompt for generating the model.</span>
</span><span id="DSLTask-393"><a href="#DSLTask-393"><span class="linenos">393</span></a><span class="sd">        dsl_model (Type[DSLModel]): The DSL model class to use for the output.</span>
</span><span id="DSLTask-394"><a href="#DSLTask-394"><span class="linenos">394</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="DSLTask-395"><a href="#DSLTask-395"><span class="linenos">395</span></a>    <span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="DSLTask-396"><a href="#DSLTask-396"><span class="linenos">396</span></a>    <span class="n">dsl_model</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">DSLModel</span><span class="p">]</span>
</span></pre></div>


            <div class="docstring"><p>Represents a single DSL task.</p>

<p>Attributes:
    prompt (str): The input prompt for generating the model.
    dsl_model (Type[DSLModel]): The DSL model class to use for the output.</p>
</div>


                            <div id="DSLTask.prompt" class="classattr">
                                <div class="attr variable">
            <span class="name">prompt</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#DSLTask.prompt"></a>
    
    

                            </div>
                            <div id="DSLTask.dsl_model" class="classattr">
                                <div class="attr variable">
            <span class="name">dsl_model</span><span class="annotation">: Type[<a href="#DSLModel">DSLModel</a>]</span>

        
    </div>
    <a class="headerlink" href="#DSLTask.dsl_model"></a>
    
    

                            </div>
                            <div id="DSLTask.model_config" class="classattr">
                                <div class="attr variable">
            <span class="name">model_config</span><span class="annotation">: ClassVar[pydantic.config.ConfigDict]</span>        =
<span class="default_value">{&#39;arbitrary_types_allowed&#39;: True, &#39;populate_by_name&#39;: True, &#39;validate_assignment&#39;: True}</span>

        
    </div>
    <a class="headerlink" href="#DSLTask.model_config"></a>
    
            <div class="docstring"><p>Configuration for the model, should be a dictionary conforming to [<code>ConfigDict</code>][pydantic.config.ConfigDict].</p>
</div>


                            </div>
                            <div id="DSLTask.model_fields" class="classattr">
                                <div class="attr variable">
            <span class="name">model_fields</span><span class="annotation">: ClassVar[Dict[str, pydantic.fields.FieldInfo]]</span>        =
<input id="DSLTask.model_fields-view-value" class="view-value-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
            <label class="view-value-button pdoc-button" for="DSLTask.model_fields-view-value"></label><span class="default_value">{&#39;version&#39;: FieldInfo(annotation=str, required=False, default=&#39;1.0.0&#39;), &#39;prompt&#39;: FieldInfo(annotation=str, required=True), &#39;dsl_model&#39;: FieldInfo(annotation=Type[DSLModel], required=True)}</span>

        
    </div>
    <a class="headerlink" href="#DSLTask.model_fields"></a>
    
            <div class="docstring"><p>Metadata about the fields defined on the model,
mapping of field names to [<code>FieldInfo</code>][pydantic.fields.FieldInfo] objects.</p>

<p>This replaces <code>Model.__fields__</code> from Pydantic V1.</p>
</div>


                            </div>
                            <div id="DSLTask.model_computed_fields" class="classattr">
                                <div class="attr variable">
            <span class="name">model_computed_fields</span><span class="annotation">: ClassVar[Dict[str, pydantic.fields.ComputedFieldInfo]]</span>        =
<span class="default_value">{}</span>

        
    </div>
    <a class="headerlink" href="#DSLTask.model_computed_fields"></a>
    
            <div class="docstring"><p>A dictionary of computed field names and their corresponding <code>ComputedFieldInfo</code> objects.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>pydantic.main.BaseModel</dt>
                                <dd id="DSLTask.__init__" class="function">BaseModel</dd>
                <dd id="DSLTask.model_extra" class="variable">model_extra</dd>
                <dd id="DSLTask.model_fields_set" class="variable">model_fields_set</dd>
                <dd id="DSLTask.model_construct" class="function">model_construct</dd>
                <dd id="DSLTask.model_copy" class="function">model_copy</dd>
                <dd id="DSLTask.model_dump" class="function">model_dump</dd>
                <dd id="DSLTask.model_dump_json" class="function">model_dump_json</dd>
                <dd id="DSLTask.model_json_schema" class="function">model_json_schema</dd>
                <dd id="DSLTask.model_parametrized_name" class="function">model_parametrized_name</dd>
                <dd id="DSLTask.model_post_init" class="function">model_post_init</dd>
                <dd id="DSLTask.model_rebuild" class="function">model_rebuild</dd>
                <dd id="DSLTask.model_validate" class="function">model_validate</dd>
                <dd id="DSLTask.model_validate_json" class="function">model_validate_json</dd>
                <dd id="DSLTask.model_validate_strings" class="function">model_validate_strings</dd>
                <dd id="DSLTask.dict" class="function">dict</dd>
                <dd id="DSLTask.json" class="function">json</dd>
                <dd id="DSLTask.parse_obj" class="function">parse_obj</dd>
                <dd id="DSLTask.parse_raw" class="function">parse_raw</dd>
                <dd id="DSLTask.parse_file" class="function">parse_file</dd>
                <dd id="DSLTask.from_orm" class="function">from_orm</dd>
                <dd id="DSLTask.construct" class="function">construct</dd>
                <dd id="DSLTask.copy" class="function">copy</dd>
                <dd id="DSLTask.schema" class="function">schema</dd>
                <dd id="DSLTask.schema_json" class="function">schema_json</dd>
                <dd id="DSLTask.validate" class="function">validate</dd>
                <dd id="DSLTask.update_forward_refs" class="function">update_forward_refs</dd>

            </div>
            <div><dt><a href="#DSLModel">DSLModel</a></dt>
                                <dd id="DSLTask.version" class="variable"><a href="#DSLModel.version">version</a></dd>
                <dd id="DSLTask.Config" class="class"><a href="#DSLModel.Config">Config</a></dd>
                <dd id="DSLTask.generate_filename" class="function"><a href="#DSLModel.generate_filename">generate_filename</a></dd>
                <dd id="DSLTask.save" class="function"><a href="#DSLModel.save">save</a></dd>
                <dd id="DSLTask.asave" class="function"><a href="#DSLModel.asave">asave</a></dd>
                <dd id="DSLTask.upgrade" class="function"><a href="#DSLModel.upgrade">upgrade</a></dd>
                <dd id="DSLTask.to_yaml" class="function"><a href="#DSLModel.to_yaml">to_yaml</a></dd>
                <dd id="DSLTask.from_yaml" class="function"><a href="#DSLModel.from_yaml">from_yaml</a></dd>
                <dd id="DSLTask.ato_yaml" class="function"><a href="#DSLModel.ato_yaml">ato_yaml</a></dd>
                <dd id="DSLTask.afrom_yaml" class="function"><a href="#DSLModel.afrom_yaml">afrom_yaml</a></dd>
                <dd id="DSLTask.to_json" class="function"><a href="#DSLModel.to_json">to_json</a></dd>
                <dd id="DSLTask.from_json" class="function"><a href="#DSLModel.from_json">from_json</a></dd>
                <dd id="DSLTask.io_context" class="function"><a href="#DSLModel.io_context">io_context</a></dd>
                <dd id="DSLTask.aio_context" class="function"><a href="#DSLModel.aio_context">aio_context</a></dd>
                <dd id="DSLTask.ato_json" class="function"><a href="#DSLModel.ato_json">ato_json</a></dd>
                <dd id="DSLTask.afrom_json" class="function"><a href="#DSLModel.afrom_json">afrom_json</a></dd>
                <dd id="DSLTask.from_prompt" class="function"><a href="#DSLModel.from_prompt">from_prompt</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value"> = ${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>